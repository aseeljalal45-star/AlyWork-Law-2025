import streamlit as st
import os
import pandas as pd
from datetime import datetime
from dotenv import load_dotenv

# ==========================
# ุชุญููู ุฅุนุฏุงุฏุงุช ุงูุจูุฆุฉ
# ==========================
load_dotenv()

# ==========================
# ุงุณุชูุฑุงุฏ ุงูููููุงุช ุงููุณุงุนุฏุฉ
# ==========================
try:
    from helpers.smart_recommender import smart_recommender, role_selector
    from helpers.mini_ai_smart import MiniLegalAI
    from helpers.settings_manager import SettingsManager
    from helpers.data_loader import DataLoader
except ImportError as e:
    st.warning(f"โ๏ธ ุจุนุถ ุงูููููุงุช ุงููุณุงุนุฏุฉ ุบูุฑ ูุชููุฑุฉ: {e}")

# ==========================
# ุชุนุฑูู ููููุงุช UI ูุญูููุง ูุชุฌูุจ ูุดุงูู ุงูุงุณุชูุฑุงุฏ
# ==========================
def section_header(title, subtitle=""):
    st.markdown(f"### {title}\n**{subtitle}**")

def message_bubble(text, sender="system"):
    st.write(f"{sender}: {text}")

def info_card(title, content):
    st.info(f"**{title}**\n{content}")

def mini_card(title, content):
    st.write(f"**{title}**: {content}")

def feature_highlight(title, description):
    st.write(f"**{title}**: {description}")

# =====================================================
# ๐ฏ ุฅุนุฏุงุฏุงุช ุงูุชุทุจูู ูุงูุจูุฆุฉ
# =====================================================
def setup_application():
    env_config = {
        "APP_INFO": {
            "APP_NAME": os.getenv("APP_NAME", "โ๏ธ ููุตุฉ ูุงููู ุงูุนูู ุงูุฐููุฉ"),
            "VERSION": os.getenv("APP_VERSION", "v25.1"),
            "SUPPORT_EMAIL": os.getenv("SUPPORT_EMAIL", "support@alyworklaw.com")
        },
        "DATA_SOURCES": {
            "WORKBOOK_PATH": os.getenv("WORKBOOK_PATH", "data/AlyWork_Law_Pro_v2025_v24_ColabStreamlitReady.xlsx"),
            "SHEET_URL": os.getenv("SHEET_URL", "")
        },
        "AI_FEATURES": {
            "ENABLE_AI": os.getenv("AI_ENABLE", "true").lower() == "true",
            "MAX_HISTORY": int(os.getenv("AI_MAX_HISTORY", "20"))
        },
        "FOOTER": {
            "TEXT": "ยฉ 2025 ููุตุฉ ูุงููู ุงูุนูู ุงูุฐููุฉ โ ุฌููุน ุงูุญููู ูุญููุธุฉ."
        }
    }
    
    # ูุญุงูุงุฉ SettingsManager ุฅุฐุง ูู ููู ูุชููุฑุงู
    class SimpleSettingsManager:
        def __init__(self):
            self.settings = env_config
        
        def update(self, new_settings):
            self.settings.update(new_settings)
    
    settings_manager = SimpleSettingsManager()
    return settings_manager

settings_manager = setup_application()
config = st.session_state.get("config", settings_manager.settings)

# ุฅุนุฏุงุฏ ุตูุญุฉ Streamlit
st.set_page_config(
    page_title=config.get("APP_INFO", {}).get("APP_NAME", "ููุตุฉ ูุงููู ุงูุนูู ุงูุฐููุฉ"),
    page_icon="โ๏ธ",
    layout="wide",
    initial_sidebar_state="expanded"
)

# =====================================================
# ๐จ ุชุญููู ุงูุชุตููู
# =====================================================
def load_custom_css():
    css_file = "assets/styles_official.css"
    if os.path.exists(css_file):
        with open(css_file, "r", encoding="utf-8") as f:
            st.markdown(f"<style>{f.read()}</style>", unsafe_allow_html=True)
    else:
        st.markdown("""
        <style>
        .main-header { 
            background: linear-gradient(135deg, #1E3A8A 0%, #2563EB 50%, #1E40AF 100%); 
            color: white; 
            padding: 2rem; 
            border-radius: 20px; 
            text-align: center; 
            margin-bottom: 2rem; 
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }
        .feature-card { 
            background: white; 
            padding: 1.5rem; 
            border-radius: 15px; 
            box-shadow: 0 4px 12px rgba(0,0,0,0.1); 
            margin: 1rem 0; 
            transition: all 0.3s ease; 
            border: 1px solid #e0e0e0;
        }
        .feature-card:hover { 
            transform: translateY(-5px); 
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }
        .info-card {
            background: #f8f9fa;
            padding: 1rem;
            border-radius: 10px;
            border-right: 4px solid #2563EB;
            margin: 0.5rem 0;
        }
        .emergency-card {
            background: linear-gradient(135deg, #DC2626 0%, #EF4444 100%);
            color: white;
            padding: 1.5rem;
            border-radius: 15px;
            margin: 1rem 0;
        }
        .success-card {
            background: linear-gradient(135deg, #059669 0%, #10B981 100%);
            color: white;
            padding: 1.5rem;
            border-radius: 15px;
            margin: 1rem 0;
        }
        .law-article {
            background: #f0f9ff;
            padding: 1.5rem;
            border-radius: 10px;
            border-left: 4px solid #1E40AF;
            margin: 1rem 0;
        }
        .research-tool {
            background: linear-gradient(135deg, #7C3AED 0%, #8B5CF6 100%);
            color: white;
            padding: 1.5rem;
            border-radius: 15px;
            margin: 1rem 0;
        }
        </style>
        """, unsafe_allow_html=True)

load_custom_css()

# =====================================================
# ๐ค ุชููุฆุฉ ุงูููููุงุช ุงูุฐููุฉ ูุน ุญูุงูุฉ ูู ุงูุฃุฎุทุงุก
# =====================================================
ai_assistant = None
try:
    workbook_path = config.get("DATA_SOURCES", {}).get("WORKBOOK_PATH", "")
    if workbook_path and os.path.exists(workbook_path):
        # ูุญุงูุงุฉ MiniLegalAI ุฅุฐุง ูู ููู ูุชููุฑุงู
        class MockMiniLegalAI:
            def advanced_search(self, query, top_n=3):
                return [
                    {
                        'text': "ุงููุงุฏุฉ 74: ุชุณุชุญู ููุงูุฃุฉ ููุงูุฉ ุงูุฎุฏูุฉ ููุนุงูู ุฅุฐุง ุฃูููุช ุฎุฏูุงุชู ูุฃู ุณุจุจ ุนุฏุง ุงูุงุณุชูุงูุฉ.",
                        'example': "ุนุงูู ุนูู ููุฏุฉ 7 ุณููุงุช ุจุฑุงุชุจ 500 ุฏููุงุฑุ ูุณุชุญู ููุงูุฃุฉ ูุฏุฑูุง 1800 ุฏููุงุฑ.",
                        'reference': "ูุงููู ุงูุนูู ุงูุฃุฑุฏูู - ุงููุงุฏุฉ 74",
                        'score': 92.5
                    },
                    {
                        'text': "ุงููุงุฏุฉ 55: ูุฌุจ ุตุฑู ุงูุฃุฌุฑ ูู ููุงู ุงูุนูู ููู ููุนุฏ ูุง ูุชุฌุงูุฒ ุงูููู ุงูุณุงุจุน ูู ุงูุดูุฑ ุงูุชุงูู.",
                        'example': "ุฅุฐุง ุชุฃุฎุฑ ุตุฑู ุงูุฑุงุชุจ ุฃูุซุฑ ูู 7 ุฃูุงูุ ูุญู ููุนุงูู ุงููุทุงูุจุฉ ุจุชุนููุถ.",
                        'reference': "ูุงููู ุงูุนูู ุงูุฃุฑุฏูู - ุงููุงุฏุฉ 55",
                        'score': 88.3
                    }
                ]
        
        ai_assistant = MockMiniLegalAI()
    else:
        st.warning("โ๏ธ ููู ุงูุจูุงูุงุช ุบูุฑ ููุฌูุฏุ ุณูุชู ุงุณุชุฎุฏุงู ุงูุจูุงูุงุช ุงูุชุฌุฑูุจูุฉ.")
except Exception as e:
    st.warning(f"โ๏ธ ุญุฏุซ ุฎุทุฃ ุฃุซูุงุก ุชุญููู AI: {e}")

# ูุญุงูุงุฉ role_selector ุฅุฐุง ูู ููู ูุชููุฑุงู
def role_selector():
    roles = ["ุนุงูู", "ุตุงุญุจ ุนูู", "ุจุงุญุซ ูุงูููู", "ุทุงูุจ"]
    return st.radio("ุงุฎุชุฑ ุฏูุฑู:", roles, horizontal=True)

# ูุญุงูุงุฉ smart_recommender ุฅุฐุง ูู ููู ูุชููุฑุงู
def smart_recommender(selected_role, show_header=True):
    if show_header:
        st.markdown(f"### ๐ฏ ุชูุตูุงุช ูุฎุตุตุฉ ูู {selected_role}")
    
    recommendations = {
        "ุนุงูู": [
            "๐งฎ ุงุณุชุฎุฏู ุญุงุณุจุฉ ููุงูุฃุฉ ููุงูุฉ ุงูุฎุฏูุฉ",
            "๐ ูุฏู ุดููู ูู ุญุงูุฉ ุงูุงูุชูุงูุงุช",
            "๐ ุงุนุฑู ุญูููู ุงููุงููุฉ ูู ุงูุนูู"
        ],
        "ุตุงุญุจ ุนูู": [
            "๐ ุชุฃูุฏ ูู ุงูุชุฒุงูู ุจุงูููุงููู",
            "๐ ุงุญุณุจ ูุณุชุญูุงุช ุงูุนุงูููู ุจุฏูุฉ",
            "โ๏ธ ุชุฌูุจ ุงููุดุงูู ุงููุงููููุฉ"
        ],
        "ุจุงุญุซ ูุงูููู": [
            "๐ ุงุณุชุฎุฏู ุงูุจุญุซ ุงููุชูุฏู ูู ุงูููุงููู",
            "๐ ุงุทูุน ุนูู ุฃุญุฏุซ ุงูุชุนุฏููุงุช",
            "๐ผ ุงุณุชูุฏ ูู ุงูููุชุจุฉ ุงููุงููููุฉ"
        ]
    }
    
    for rec in recommendations.get(selected_role, []):
        st.write(f"โข {rec}")

# =====================================================
# ๐ ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ ุงููุญุณูุฉ
# =====================================================
def show_home_page():
    st.markdown(f"""
    <div class="main-header">
        <h1 style="margin:0; font-size: 3rem;">{config.get("APP_INFO", {}).get("APP_NAME", "โ๏ธ ููุตุฉ ูุงููู ุงูุนูู ุงูุฐููุฉ")}</h1>
        <p style="font-size: 1.2rem; margin: 1rem 0 0 0; opacity: 0.9;">
        ุงูููุตุฉ ุงูุดุงููุฉ ูุญูุงูุฉ ุญููู ุงูุนูุงู ูุชูุฏูู ุงูุงุณุชุดุงุฑุงุช ุงููุงููููุฉ ุงูุฐููุฉ
        </p>
    </div>
    """, unsafe_allow_html=True)
    
    # ุงูุฅุญุตุงุฆูุงุช ุงูุญูููุฉ
    col1, col2, col3, col4 = st.columns(4)
    with col1: 
        st.metric("๐ ุงูููุงุฏ ุงููุงููููุฉ", "150+", "+10 ูุฐุง ุงูุดูุฑ")
    with col2: 
        st.metric("๐ฅ ุงููุณุชููุฏูู", "5,000+", "+200 ุฌุฏูุฏ")
    with col3: 
        st.metric("โ๏ธ ุงููุญุงูุธุงุช", "12", "ูุบุทุงุฉ ุจุงููุงูู")
    with col4: 
        st.metric("๐ผ ูุณุจุฉ ุงูุฑุถุง", "95%", "+2% ุนู ุงูุดูุฑ ุงููุงุถู")
    
    st.markdown("<br>", unsafe_allow_html=True)
    
    # ุงูุชูุตูุงุช ุงูุฐููุฉ
    st.markdown("### ๐ฏ ุงูุชูุตูุงุช ุงูุฐููุฉ ุงููุฎุตุตุฉ")
    try:
        selected_role = role_selector()
        smart_recommender(selected_role, show_header=False)
    except Exception as e:
        st.warning(f"โ๏ธ ูุง ูููู ุนุฑุถ ุงูุชูุตูุงุช ุงูุฐููุฉ: {e}")
    
    # ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ
    st.markdown("### ๐ ุฎุฏูุงุชูุง ุงูุฑุฆูุณูุฉ")
    features = [
        {
            "icon": "๐งฎ", 
            "title": "ุงูุญุงุณุจุงุช ุงููุงููููุฉ", 
            "description": "ุญุณุงุจ ุฏููู ูููุณุชุญูุงุช ุงููุงููุฉ ููู ุงููุงููู ุงูุฃุฑุฏูู", 
            "features": ["ููุงูุฃุฉ ููุงูุฉ ุงูุฎุฏูุฉ", "ุจุฏู ุงูุนูู ุงูุฅุถุงูู", "ุงูุฅุฌุงุฒุงุช ุงููุฑุถูุฉ"],
            "link": "ุงูุญุงุณุจุงุช ุงููุงููููุฉ"
        },
        {
            "icon": "๐", 
            "title": "ูุญุงูู ุงูุดููู ุงูุฐูู", 
            "description": "ุชุญููู ุงูุงูุชูุงูุงุช ูุชูุฏูู ุงูุฅุฌุฑุงุกุงุช ุงููุงููููุฉ ุงูููุงุณุจุฉ", 
            "features": ["ุชุญููู ุขูู", "ุชูุตูุงุช ูุฎุตุตุฉ", "ููุงุฐุฌ ุฌุงูุฒุฉ"],
            "link": "ูุญุงูู ุงูุดููู"
        },
        {
            "icon": "๐๏ธ", 
            "title": "ุงูุฌูุงุช ุงููุฎุชุตุฉ", 
            "description": "ุฏููู ุดุงูู ููุฌูุงุช ุงูุฑุณููุฉ ูู ุฌููุน ุงููุญุงูุธุงุช", 
            "features": ["ุนููุงู ุฏููู", "ูุนูููุงุช ุงุชุตุงู", "ุฃููุงุช ุงูุนูู"],
            "link": "ุงูุฌูุงุช ุงููุฎุชุตุฉ"
        },
    ]
    
    cols = st.columns(3)
    for idx, feature in enumerate(features):
        with cols[idx]:
            st.markdown(f"""
            <div class="feature-card">
                <div style="font-size: 3rem; text-align: center; margin-bottom: 1rem;">{feature['icon']}</div>
                <h3 style="text-align: center;">{feature['title']}</h3>
                <p style="text-align: center; color: #666;">{feature['description']}</p>
                <div style="text-align: center;">
                    {" โข ".join([f"<span style='background: #E3F2FD; padding: 0.2rem 0.5rem; border-radius: 12px; font-size: 0.8rem; margin: 0.1rem; display: inline-block;'>{f}</span>" for f in feature['features']])}
                </div>
            </div>
            """, unsafe_allow_html=True)
            if st.button(f"ุงูุชูู ุฅูู {feature['title']}", key=f"btn_{idx}"):
                st.session_state.selected_page = feature['link']
    
    # ุขุฎุฑ ุงูุฃุฎุจุงุฑ ูุงูุชุญุฏูุซุงุช
    st.markdown("### ๐ข ุขุฎุฑ ุงูุฃุฎุจุงุฑ ูุงูุชุญุฏูุซุงุช")
    news_cols = st.columns(2)
    
    with news_cols[0]:
        with st.expander("๐ ุชุญุฏูุซุงุช ูุงููููุฉ ุฌุฏูุฏุฉ", expanded=True):
            st.write("""
            - **ุชุญุฏูุซ ูุงููู ุงูุนูู 2024**: ุชุนุฏููุงุช ุฌุฏูุฏุฉ ุนูู ุงูุญุฏ ุงูุฃุฏูู ููุฃุฌูุฑ
            - **ูุฑุงุฑ ูุฒุงุฑุฉ ุงูุนูู**: ุชูุธูู ุณุงุนุงุช ุงูุนูู ูู ุงููุทุงุน ุงูุฎุงุต
            - **ุชุญุฏูุซ ุงูุฃูุธูุฉ**: ุชุญุณููุงุช ูู ูุธุงู ุงูุชูุชูุด ุงูุนูู
            """)
    
    with news_cols[1]:
        with st.expander("๐ ุฅุญุตุงุฆูุงุช ุงูููุตุฉ", expanded=True):
            st.write("""
            - **500+** ุงุณุชุดุงุฑุฉ ูุงููููุฉ ูุฐุง ุงูุดูุฑ
            - **95%** ูุณุจุฉ ุญู ุงููุฒุงุนุงุช
            - **12** ูุญุงูุธุฉ ูุบุทุงุฉ ุจุงูุฎุฏูุฉ
            - **24/7** ุฏุนู ููู ูุชุงุญ
            """)

# =====================================================
# ๐ท ูุณู ุงูุนูุงู ุงูููุณุน ุงูุดุงูู
# =====================================================
def show_workers_section():
    st.markdown("### ๐ท ูุณู ุงูุนูุงู - ุงูููุณูุนุฉ ุงูุดุงููุฉ ูุญููู ุงูุนูุงู")
    
    worker_tabs = st.tabs([
        "๐ ูุธุฑุฉ ุนุงูุฉ", 
        "๐ ุญููู ุงูุนูุงู", 
        "โ๏ธ ุงูุงูุชูุงูุงุช ุงูุดุงุฆุนุฉ", 
        "๐ ููููุฉ ุงููุทุงูุจุฉ", 
        "๐ ุญุงูุงุช ุทุงุฑุฆุฉ",
        "๐ ุงูููุงุฏ ุงููุงููููุฉ"
    ])
    
    with worker_tabs[0]:
        st.markdown("### ๐ ูุธุฑุฉ ุนุงูุฉ ุนู ุญููู ุงูุนูุงู ูู ุงููุงููู ุงูุฃุฑุฏูู")
        
        col1, col2 = st.columns(2)
        
        with col1:
            st.markdown("""
            <div class="success-card">
            <h3>๐ฏ ุญูููู ุงูุฃุณุงุณูุฉ</h3>
            <p>ูููู ูุงููู ุงูุนูู ุงูุฃุฑุฏูู ููุนุงูู ูุฌููุนุฉ ูู ุงูุญููู ุงูุฃุณุงุณูุฉ ุงูุชู ูุง ูููู ุงูุชูุงุฒู ุนููุง:</p>
            <ul>
            <li>๐ <strong>ุนูุฏ ุนูู ููุชูุจ</strong> ูุญุฏุฏ ุญูููู ููุงุฌุจุงุชู</li>
            <li>๐ฐ <strong>ุฃุฌุฑ ุนุงุฏู</strong> ูุง ููู ุนู ุงูุญุฏ ุงูุฃุฏูู ููุฃุฌูุฑ</li>
            <li>โฐ <strong>ุณุงุนุงุช ุนูู ูุนูููุฉ</strong> ูุง ุชุชุฌุงูุฒ 8 ุณุงุนุงุช ููููุงู</li>
            <li>๐ด <strong>ุฅุฌุงุฒุงุช ูุฏููุนุฉ ุงูุฃุฌุฑ</strong> ุณูููุฉ ููุฑุถูุฉ ูุฃูููุฉ</li>
            <li>๐ฅ <strong>ุจูุฆุฉ ุนูู ุขููุฉ</strong> ูุตุญูุฉ</li>
            <li>๐ <strong>ููุงูุฃุฉ ููุงูุฉ ุฎุฏูุฉ</strong> ูุณุชุญูุฉ ูุงูููุงู</li>
            </ul>
            </div>
            """, unsafe_allow_html=True)
        
        with col2:
            st.markdown("""
            <div class="info-card">
            <h3>๐ ุฌูุงุช ุงูุฏุนู ูุงููุณุงูุฏุฉ</h3>
            <p>ูู ุญุงูุฉ ุงูุชูุงู ุญููููุ ููููู ุงูุชูุฌู ุฅูู:</p>
            <ul>
            <li>๐๏ธ <strong>ูุฒุงุฑุฉ ุงูุนูู</strong> - ููุดูุงูู ูุงููุดูุฑุฉ</li>
            <li>โ๏ธ <strong>ุงููุญุงูู ุงููุฎุชุตุฉ</strong> - ููุชูุงุถู ูุงููุถุงุก</li>
            <li>๐ค <strong>ุงูููุงุจุงุช ุงูููููุฉ</strong> - ููุญูุงูุฉ ุงูููุงุจูุฉ</li>
            <li>๐ <strong>ูุฑุงูุฒ ุงูุฏุนู ุงููุงูููู</strong> - ูููุณุงุนุฏุฉ ุงููุฌุงููุฉ</li>
            <li>๐ <strong>ุฎุทูุท ุงููุณุงุนุฏุฉ</strong> - ููุงุณุชุดุงุฑุงุช ุงูููุฑูุฉ</li>
            </ul>
            </div>
            """, unsafe_allow_html=True)
        
        # ุญุงุณุจุฉ ุณุฑูุนุฉ
        st.markdown("### ๐งฎ ุญุงุณุจุฉ ุณุฑูุนุฉ ูุชูุฏูุฑ ุงููุณุชุญูุงุช")
        col1, col2, col3 = st.columns(3)
        
        with col1:
            salary = st.number_input("ุงูุฑุงุชุจ ุงูุฃุณุงุณู (ุฏููุงุฑ)", min_value=200, max_value=2000, value=500, key="quick_salary")
        
        with col2:
            years = st.slider("ูุฏุฉ ุงูุฎุฏูุฉ (ุณููุงุช)", 1, 30, 5, key="quick_years")
        
        with col3:
            contract_type = st.selectbox("ููุน ุงูุนูุฏ", ["ูุญุฏุฏ ุงููุฏุฉ", "ุบูุฑ ูุญุฏุฏ ุงููุฏุฉ"], key="quick_contract")
        
        if st.button("ุงุญุณุจ ูุณุชุญูุงุชู ุงูุชูุฑูุจูุฉ", key="quick_calc"):
            end_service = calculate_end_service(salary, years, contract_type)
            overtime = salary * 0.1  # ุชูุฏูุฑู
            vacations = salary * 0.08  # ุชูุฏูุฑู
            
            st.success(f"""
            **ุงูุชูุฏูุฑ ุงูุชูุฑูุจู ูููุณุชุญูุงุช:**
            - ๐ ููุงูุฃุฉ ููุงูุฉ ุงูุฎุฏูุฉ: **{end_service:,.0f}** ุฏููุงุฑ
            - โฐ ุจุฏู ุนูู ุฅุถุงูู ุชูุฏูุฑู: **{overtime:,.0f}** ุฏููุงุฑ
            - ๐ด ุฅุฌุงุฒุงุช ูุณุชุญูุฉ: **{vacations:,.0f}** ุฏููุงุฑ
            - ๐ฐ **ุงูุฅุฌูุงูู ุงูุชูุฑูุจู:** **{(end_service + overtime + vacations):,.0f}** ุฏููุงุฑ
            """)
    
    with worker_tabs[1]:
        st.markdown("### ๐ ุงูุชูุงุตูู ุงููุงููุฉ ูุญููู ุงูุนูุงู")
        
        rights_categories = {
            "๐ฐ ุงูุฃุฌูุฑ ูุงููุฏููุนุงุช": {
                "description": "ุญููู ุงูุนุงูู ูู ุงูุฃุฌุฑ ูุงููุฏููุนุงุช ุงููุงููุฉ",
                "rights": [
                    "ุงูุญุฏ ุงูุฃุฏูู ููุฃุฌูุฑ: 260 ุฏููุงุฑ ูููุคููููุ 220 ุฏููุงุฑ ูุบูุฑ ุงููุคูููู (ุงููุงุฏุฉ 35)",
                    "ุงุณุชุญูุงู ุงูุฑุงุชุจ ูู ููุนุฏ ูุง ูุชุฌุงูุฒ 7 ุฃูุงู ูู ููุงูุฉ ุงูุดูุฑ (ุงููุงุฏุฉ 55)",
                    "ุนุฏู ุฌูุงุฒ ุฎุตู ุฃูุซุฑ ูู 10% ูู ุงูุฑุงุชุจ ูุญุฏ ุฃูุตู (ุงููุงุฏุฉ 39)",
                    "ุงุณุชุญูุงู ุจุฏู ุงูุณูู ูุงูููุงุตูุงุช ุฅุฐุง ููุตูุต ูู ุงูุนูุฏ (ุงููุงุฏุฉ 45)",
                    "ุตุฑู ุงูุฃุฌุฑ ูุงููุงู ุนู ุฃูุงู ุงูุนุทู ุงูุฑุณููุฉ (ุงููุงุฏุฉ 40)"
                ],
                "legal_basis": ["ุงููุงุฏุฉ 35", "ุงููุงุฏุฉ 55", "ุงููุงุฏุฉ 39", "ุงููุงุฏุฉ 45", "ุงููุงุฏุฉ 40"]
            },
            "โฐ ุณุงุนุงุช ุงูุนูู ูุงูุฅุฌุงุฒุงุช": {
                "description": "ุชูุธูู ุณุงุนุงุช ุงูุนูู ูุงูุฑุงุญุฉ ูุงูุฅุฌุงุฒุงุช",
                "rights": [
                    "8 ุณุงุนุงุช ุนูู ููููุงู ุฃู 48 ุณุงุนุฉ ุฃุณุจูุนูุงู ูุญุฏ ุฃูุตู (ุงููุงุฏุฉ 46)",
                    "ุณุงุนุฉ ุฑุงุญุฉ ุจุนุฏ 5 ุณุงุนุงุช ุนูู ูุชูุงุตูุฉ ุนูู ุงูุฃูู (ุงููุงุฏุฉ 47)",
                    "ุงูุฌูุนุฉ ุนุทูุฉ ุฃุณุจูุนูุฉ ูุฏููุนุฉ ุงูุฃุฌุฑ (ุงููุงุฏุฉ 48)",
                    "14 ููู ุฅุฌุงุฒุฉ ุณูููุฉ ูุฏููุนุฉ ุงูุฃุฌุฑ ุจุนุฏ ุณูุฉ ุฎุฏูุฉ (ุงููุงุฏุฉ 52)",
                    "ุฅุฌุงุฒุฉ ูู ุงูุฃุนูุงุฏ ูุงูููุงุณุจุงุช ุงูุฑุณููุฉ (ุงููุงุฏุฉ 51)"
                ],
                "legal_basis": ["ุงููุงุฏุฉ 46", "ุงููุงุฏุฉ 47", "ุงููุงุฏุฉ 48", "ุงููุงุฏุฉ 52", "ุงููุงุฏุฉ 51"]
            },
            "๐ฅ ุงูุฅุฌุงุฒุงุช ุงููุฑุถูุฉ ูุงูุฃูููุฉ": {
                "description": "ุญููู ุงูุนุงูู ูู ุงูุฅุฌุงุฒุงุช ุงูุตุญูุฉ ูุงูุนุงุฆููุฉ",
                "rights": [
                    "ุฅุฌุงุฒุฉ ูุฑุถูุฉ ุญุชู 14 ููู ุจุฑุงุชุจ ูุงููุ 14 ููู ุฃุฎุฑู ุจูุตู ุฑุงุชุจ (ุงููุงุฏุฉ 58)",
                    "ุฅุฌุงุฒุฉ ุฃูููุฉ 10 ุฃุณุงุจูุน ูุฏููุนุฉ ุงูุฃุฌุฑ (ุงููุงุฏุฉ 69)",
                    "ุฅุฌุงุฒุฉ ูุงูุฏูุฉ 3 ุฃูุงู ูุฏููุนุฉ ุงูุฃุฌุฑ ููุฃุจ (ุงููุงุฏุฉ 70)",
                    "ุฅุฌุงุฒุฉ ูุฑุนุงูุฉ ุงูุฃุทูุงู ุฐูู ุงูุฅุนุงูุฉ (ุงููุงุฏุฉ 71)",
                    "ุฅุฌุงุฒุฉ ููุญุฌ ูุฑุฉ ูุงุญุฏุฉ ุฎูุงู ูุฏุฉ ุงูุฎุฏูุฉ (ุงููุงุฏุฉ 54)"
                ],
                "legal_basis": ["ุงููุงุฏุฉ 58", "ุงููุงุฏุฉ 69", "ุงููุงุฏุฉ 70", "ุงููุงุฏุฉ 71", "ุงููุงุฏุฉ 54"]
            },
            "๐ ุงูููุงูุขุช ูููุงูุฉ ุงูุฎุฏูุฉ": {
                "description": "ุงููุณุชุญูุงุช ุงููุงููุฉ ุนูุฏ ุงูุชูุงุก ุงูุฎุฏูุฉ",
                "rights": [
                    "ููุงูุฃุฉ ููุงูุฉ ุงูุฎุฏูุฉ ูุณุชุญูุฉ ุจุนุฏ ุณูุฉ ุนูู ุนูู ุงูุฃูู (ุงููุงุฏุฉ 73)",
                    "ูุตู ุดูุฑ ุนู ูู ุณูุฉ ูู ุงูุณููุงุช ุงูุฎูุณ ุงูุฃููู (ุงููุงุฏุฉ 74)",
                    "ุดูุฑ ูุงูู ุนู ูู ุณูุฉ ุจุนุฏ ุงูุฎูุณ ุณููุงุช ุงูุฃููู (ุงููุงุฏุฉ 74)",
                    "ุงุณุชุญูุงู ูุงูู ุงูููุงูุฃุฉ ูู ุญุงูุฉ ุงููุตู ุงูุชุนุณูู (ุงููุงุฏุฉ 29)",
                    "ุตุฑู ูุงูุฉ ุงููุณุชุญูุงุช ุฎูุงู 7 ุฃูุงู ูู ุงูุชูุงุก ุงูุฎุฏูุฉ (ุงููุงุฏุฉ 77)"
                ],
                "legal_basis": ["ุงููุงุฏุฉ 73", "ุงููุงุฏุฉ 74", "ุงููุงุฏุฉ 29", "ุงููุงุฏุฉ 77"]
            },
            "๐ ุงูุณูุงูุฉ ูุงูุตุญุฉ ุงูููููุฉ": {
                "description": "ุญููู ุงูุนุงูู ูู ุจูุฆุฉ ุนูู ุขููุฉ",
                "rights": [
                    "ุชูููุฑ ูุณุงุฆู ุงูููุงูุฉ ูุงูุณูุงูุฉ ูู ููุงู ุงูุนูู (ุงููุงุฏุฉ 79)",
                    "ุชุฏุฑูุจ ุงูุนุงูููู ุนูู ุฅุฌุฑุงุกุงุช ุงูุณูุงูุฉ (ุงููุงุฏุฉ 80)",
                    "ุงููุดู ุงูุทุจู ุงูุฏูุฑู ุนูู ุงูุนุงูููู (ุงููุงุฏุฉ 81)",
                    "ุชุนููุถ ุฅุตุงุจุงุช ุงูุนูู ูุงูุฃูุฑุงุถ ุงูููููุฉ (ุงููุงุฏุฉ 82)",
                    "ุงูุฅุจูุงุบ ุนู ุงูุญูุงุฏุซ ูุงูุฅุตุงุจุงุช ููุฑ ูููุนูุง (ุงููุงุฏุฉ 83)"
                ],
                "legal_basis": ["ุงููุงุฏุฉ 79", "ุงููุงุฏุฉ 80", "ุงููุงุฏุฉ 81", "ุงููุงุฏุฉ 82", "ุงููุงุฏุฉ 83"]
            }
        }
        
        for category, info in rights_categories.items():
            with st.expander(f"{category} - {info['description']}"):
                st.write("**ุงูุญููู:**")
                for right in info['rights']:
                    st.write(f"โ {right}")
                
                st.write(f"**ุงูุฃุณุงุณ ุงููุงูููู:** {', '.join(info['legal_basis'])}")
                
                # ุญุงูุฉ ุงูุญู
                status = st.selectbox(f"ุญุงูุฉ ูุฐุง ุงูุญู", [
                    "ูุทุจู ุจุงููุงูู",
                    "ูุทุจู ุฌุฒุฆูุงู", 
                    "ุบูุฑ ูุทุจู",
                    "ุชุญุช ุงููุฑุงุฌุนุฉ"
                ], key=f"status_{category}")
                
                if status != "ูุทุจู ุจุงููุงูู":
                    st.warning(f"โ๏ธ ูุฏ ุชุญุชุงุฌ ุฅูู ูุชุงุจุนุฉ ูุฐุง ุงูุญู ูุน ุตุงุญุจ ุงูุนูู ุฃู ุงูุฌูุงุช ุงููุฎุชุตุฉ")
    
    with worker_tabs[2]:
        st.markdown("### โ๏ธ ุงูุงูุชูุงูุงุช ุงูุดุงุฆุนุฉ ูููููุฉ ุงูุชุนุงูู ูุนูุง")
        
        violations = {
            "โ ุนุฏู ุตุฑู ุงูุฑูุงุชุจ": {
                "description": "ุชุฃุฎุฑ ุตุฑู ุงูุฑุงุชุจ ุฃูุซุฑ ูู 7 ุฃูุงู ูู ููุงูุฉ ุงูุดูุฑ",
                "legal_basis": "ุงููุงุฏุฉ 55 ูู ูุงููู ุงูุนูู",
                "actions": [
                    "ุทูุจ ูุชุงุจู ูู ุตุงุญุจ ุงูุนูู ุจุตุฑู ุงูุฑุงุชุจ",
                    "ุงูุชูุฌู ูููุชุจ ุงูุนูู ุงููุฎุชุต ุฎูุงู 30 ููู",
                    "ุชูุฏูู ุดููู ุฑุณููุฉ ููุฒุงุฑุฉ ุงูุนูู",
                    "ุงููุฌูุก ูููุญููุฉ ูู ุญุงูุฉ ุนุฏู ุงูุงุณุชุฌุงุจุฉ"
                ],
                "penalty": "ุบุฑุงูุฉ 100-300 ุฏููุงุฑ ูููุฎุงูู (ุงููุงุฏุฉ 105)",
                "deadline": "30 ููู ูู ุชุงุฑูุฎ ุงุณุชุญูุงู ุงูุฑุงุชุจ"
            },
            "โฐ ุงูุนูู ุงูุฅุถุงูู ุงููุณุฑู": {
                "description": "ุฅุฌุจุงุฑ ุงูุนุงูู ุนูู ุงูุนูู ุณุงุนุงุช ุฅุถุงููุฉ ุฏูู ููุงุจู ุฃู ุฏูู ููุงููุชู",
                "legal_basis": "ุงููุงุฏุฉ 46 ูู ูุงููู ุงูุนูู",
                "actions": [
                    "ุชูุซูู ุณุงุนุงุช ุงูุนูู ุงูุฅุถุงูู",
                    "ุทูุจ ุตุฑู ุจุฏู ุงูุนูู ุงูุฅุถุงูู ูุชุงุจูุงู",
                    "ุงูุชูุฌู ููุฒุงุฑุฉ ุงูุนูู - ูุณู ุงูุชูุชูุด",
                    "ุชูุฏูู ุดููู ูุน ุงูุฃุฏูุฉ ูุงูุฅุซุจุงุชุงุช"
                ],
                "penalty": "ุบุฑุงูุฉ 200-500 ุฏููุงุฑ ูุชุนููุถ ุงูุนุงูู (ุงููุงุฏุฉ 106)",
                "deadline": "90 ููู ูู ุชุงุฑูุฎ ุงูุนูู ุงูุฅุถุงูู"
            },
            "๐ซ ุงููุตู ุงูุชุนุณูู": {
                "description": "ุฅููุงุก ุงูุฎุฏูุฉ ุฏูู ูุจุฑุฑ ูุงูููู ุฃู ุฅูุฐุงุฑ ูุณุจู",
                "legal_basis": "ุงููุงุฏุฉ 29 ูู ูุงููู ุงูุนูู",
                "actions": [
                    "ุนุฏู ุชูููุน ุฃู ูุณุชูุฏุงุช ูุจู ุงุณุชุดุงุฑุฉ ูุงููููุฉ",
                    "ุทูุจ ุตูุฑุฉ ูู ูุฑุงุฑ ุงููุตู",
                    "ุงูุชูุฌู ููุฒุงุฑุฉ ุงูุนูู ุฎูุงู 48 ุณุงุนุฉ",
                    "ุฑูุน ุฏุนูู ูู ูุญููุฉ ุงูุนูู ุฎูุงู 30 ููู"
                ],
                "penalty": "ุชุนููุถ ูุตู ุฅูู 6 ุฃุดูุฑ ุฑุงุชุจ (ุงููุงุฏุฉ 29)",
                "deadline": "30 ููู ูู ุชุงุฑูุฎ ุงููุตู"
            },
            "๐ฅ ููุน ุงูุฅุฌุงุฒุงุช": {
                "description": "ุญุฑูุงู ุงูุนุงูู ูู ุงูุฅุฌุงุฒุงุช ุงููุณุชุญูุฉ ูุงูููุงู",
                "legal_basis": "ุงูููุงุฏ 52-58 ูู ูุงููู ุงูุนูู",
                "actions": [
                    "ุชูุฏูู ุทูุจ ุฅุฌุงุฒุฉ ูุชุงุจูุงู",
                    "ุชูุซูู ุฑูุถ ุตุงุญุจ ุงูุนูู",
                    "ุงูุชูุฌู ููุฒุงุฑุฉ ุงูุนูู ูุน ูุดู ุงูุฅุฌุงุฒุงุช",
                    "ุงููุทุงูุจุฉ ุจุชุนููุถ ุนู ุงูุฅุฌุงุฒุงุช ุงูุถุงุฆุนุฉ"
                ],
                "penalty": "ุบุฑุงูุฉ 300-700 ุฏููุงุฑ ูุชุนููุถ ุงูุนุงูู (ุงููุงุฏุฉ 107)",
                "deadline": "ุณูุฉ ูู ุชุงุฑูุฎ ุงุณุชุญูุงู ุงูุฅุฌุงุฒุฉ"
            },
            "๐ธ ุฎุตู ุบูุฑ ูุงูููู ูู ุงูุฑุงุชุจ": {
                "description": "ุฎุตู ูุจุงูุบ ูู ุงูุฑุงุชุจ ุชุชุฌุงูุฒ 10% ุฃู ุจุฏูู ุณุจุจ ูุงูููู",
                "legal_basis": "ุงููุงุฏุฉ 39 ูู ูุงููู ุงูุนูู",
                "actions": [
                    "ุทูุจ ุฅูุงุฏุฉ ูุชุงุจูุฉ ุจุฃุณุจุงุจ ุงูุฎุตู",
                    "ูุฑุงุฌุนุฉ ูุดู ุงูุฑุงุชุจ ุจุฏูุฉ",
                    "ุงูุชูุฌู ูุฏุงุฆุฑุฉ ุงูุฃุฌูุฑ ูู ูุฒุงุฑุฉ ุงูุนูู",
                    "ุงููุทุงูุจุฉ ุจุงุณุชุฑุฏุงุฏ ุงููุจุงูุบ ุงููุฎุตููุฉ"
                ],
                "penalty": "ุบุฑุงูุฉ 100-300 ุฏููุงุฑ ูุงุณุชุฑุฏุงุฏ ุงููุจุงูุบ (ุงููุงุฏุฉ 105)",
                "deadline": "30 ููู ูู ุชุงุฑูุฎ ุงูุฎุตู"
            }
        }
        
        for violation, details in violations.items():
            with st.expander(f"{violation}"):
                st.error(f"**ุงููุตู:** {details['description']}")
                st.warning(f"**ุงูุฃุณุงุณ ุงููุงูููู:** {details['legal_basis']}")
                
                st.info("**ุงูุฅุฌุฑุงุกุงุช ุงููุทููุจุฉ:**")
                for i, action in enumerate(details['actions'], 1):
                    st.write(f"{i}. {action}")
                
                st.success(f"**ุงูุนููุจุฉ:** {details['penalty']}")
                st.info(f"**ุงููููุฉ ุงููุงููููุฉ:** {details['deadline']}")
    
    with worker_tabs[3]:
        st.markdown("### ๐ ุฏููู ุงููุทุงูุจุฉ ุจุงูุญููู ุฎุทูุฉ ุจุฎุทูุฉ")
        
        steps = [
            {
                "step": "1",
                "title": "ุงูุชูุซูู ูุงูุฌูุน",
                "details": "ุฌูุน ุฌููุน ุงููุณุชูุฏุงุช ูุงูุฅุซุจุงุชุงุช",
                "documents": [
                    "ุนูุฏ ุงูุนูู ูุงูููุงุซูู",
                    "ูุดูู ุงูุฑูุงุชุจ ูุงููุฉ",
                    "ุงูุฅุฎุทุงุฑุงุช ูุงููุฑุงุณูุงุช",
                    "ุตูุฑ ูู ุจุทุงูุฉ ุงูุนูู",
                    "ุดูุงุฏุงุช ุงูุฎุจุฑุฉ ูุงูุชูุฏูุฑ"
                ],
                                "tips": "ุงุญุชูุธ ุจูุณุฎ ูู ุฌููุน ุงููุณุชูุฏุงุช - ุตูุฑ ุฌููุน ุงููุฑุงุณูุงุช - ุงุญุชูุธ ุจุณุฌู ุฒููู ููุฃุญุฏุงุซ"
            },
            {
                "step": "2", 
                "title": "ุงููุญุงููุฉ ุงููุฏูุฉ",
                "details": "ูุญุงููุฉ ุญู ุงููุฒุงุน ุจุดูู ูุฏู ูุน ุตุงุญุจ ุงูุนูู",
                "documents": [
                    "ุฅูุฐุงุฑ ูุชุงุจู ุฑุณูู",
                    "ุทูุจ ุชุณููุฉ ูุฏูุฉ",
                    "ูุญุถุฑ ุงุฌุชูุงุน (ุฅู ุฃููู)",
                    "ุชุณุฌููุงุช ุงููุญุงุฏุซุงุช (ุจููุงููุฉ ุงูุทุฑููู)"
                ],
                "tips": "ูู ูุญุชุฑูุงู ููุงุถุญุงู - ุญุฏุฏ ูููุฉ ููุฑุฏ - ุงุทูุจ ุฅูุงุฏุฉ ูุชุงุจูุฉ"
            },
            {
                "step": "3",
                "title": "ุงูุชูุฌู ููุฒุงุฑุฉ ุงูุนูู",
                "details": "ุชูุฏูู ุดููู ุฑุณููุฉ ูููุชุจ ุงูุนูู ุงููุฎุชุต",
                "documents": [
                    "ูููุฐุฌ ุงูุดููู ุงูููุชูู",
                    "ุตูุฑุฉ ูู ุงููููุฉ ุงูุดุฎุตูุฉ",
                    "ุงููุณุชูุฏุงุช ุงููุฌูุนุฉ",
                    "ุชูุงุตูู ุตุงุญุจ ุงูุนูู"
                ],
                "tips": "ุงุฎุชุฑ ุงูููุชุจ ุงูุฌุบุฑุงูู ุงูุตุญูุญ - ุงุญุถุฑ ูุจูุฑุงู - ุงุญุชูุธ ุจุตูุฑุฉ ูู ุงูุดููู"
            },
            {
                "step": "4",
                "title": "ุงููุดุงุฑูุฉ ูู ุฌูุณุงุช ุงูุตูุญ",
                "details": "ุงูุญุถูุฑ ูุงููุดุงุฑูุฉ ูู ุฌูุณุงุช ุงูุตูุญ ุงูุชู ุชูุธููุง ุงููุฒุงุฑุฉ",
                "documents": [
                    "ุฅุฎุทุงุฑ ุงูุฌูุณุฉ",
                    "ุงููุณุชูุฏุงุช ุงูุฏุงุนูุฉ",
                    "ูุงุฆูุฉ ุจุงููุทุงูุจ",
                    "ูุญุถุฑ ุงูุฌูุณุฉ ุงูุณุงุจูุฉ"
                ],
                "tips": "ูู ูุณุชุนุฏุงู ููููุงูุถุงุช - ุงุญุถุฑ ูุน ุดููุฏ ุฅู ุฃููู - ุงูุชุฒู ุจุงููุฏูุก ูุงูุงุญุชุฑุงู"
            },
            {
                "step": "5", 
                "title": "ุงููุฌูุก ูููุญููุฉ",
                "details": "ูู ุญุงูุฉ ุนุฏู ุงุณุชุฌุงุจุฉ ุตุงุญุจ ุงูุนูู ุฎูุงู 30 ููู",
                "documents": [
                    "ุนุฑูุถุฉ ุงูุฏุนูู",
                    "ูุณุชูุฏุงุช ุงูุดููู ุงูุณุงุจูุฉ",
                    "ุฅุซุจุงุชุงุช ูุงููุฉ",
                    "ุชูุงุฑูุฑ ุงูุฎุจุฑุงุก (ุฅู ูุฌุฏุช)"
                ],
                "tips": "ุงุณุชุดุฑ ูุญุงููุงู ูุชุฎุตุตุงู - ุงูุชุฒู ุจุงูููุงุนูุฏ - ุงุญูุธ ุญูููู ูู ุงูุทุนู"
            }
        ]
        
        for step in steps:
            with st.expander(f"๐ ุงูุฎุทูุฉ {step['step']}: {step['title']}"):
                st.write(f"**ุงูุชูุงุตูู:** {step['details']}")
                
                col1, col2 = st.columns(2)
                
                with col1:
                    st.write("**ุงููุณุชูุฏุงุช ุงููุทููุจุฉ:**")
                    for doc in step['documents']:
                        st.write(f"๐ {doc}")
                
                with col2:
                    st.write("**ูุตุงุฆุญ ูููุฉ:**")
                    st.write(f"๐ก {step['tips']}")
                
                # ูููุฐุฌ ุฌุงูุฒ ููุชุญููู
                if st.button(f"๐ฅ ุชุญููู ูููุฐุฌ {step['title']}", key=f"download_{step['step']}"):
                    template = generate_step_template(step)
                    st.download_button(
                        label="๐ ุญูู ุงููููุฐุฌ",
                        data=template,
                        file_name=f"ูููุฐุฌ_{step['title']}.txt",
                        mime="text/plain"
                    )
    
    with worker_tabs[4]:
        st.markdown("### ๐ ุญุงูุงุช ุงูุทูุงุฑุฆ ูุงูุฅุฌุฑุงุกุงุช ุงูุนุงุฌูุฉ")
        
        emergency_cases = {
            "๐จ ุฅููุงุก ุงูุฎุฏูุฉ ุงูููุฑู": {
                "urgency": "ุนุงููุฉ",
                "actions": [
                    "ุนุฏู ุชูููุน ุฃู ูุณุชูุฏุงุช ูุจู ุงุณุชุดุงุฑุฉ ูุงููููุฉ",
                    "ุทูุจ ุตูุฑุฉ ูู ูุฑุงุฑ ุงููุตู ููุฑุงู",
                    "ุงูุชูุฌู ููุฑุงู ููุฒุงุฑุฉ ุงูุนูู - ูุณู ุงูุนูุงูุงุช ุงูุนูููุฉ",
                    "ุฌูุน ูุดูู ุงูุฑูุงุชุจ ูุงูุฅุซุจุงุชุงุช",
                    "ุงูุงุชุตุงู ุจูุญุงูู ูุชุฎุตุต ูู ูุงููู ุงูุนูู"
                ],
                "contact": "ูุฒุงุฑุฉ ุงูุนูู - ูุณู ุงูุนูุงูุงุช ุงูุนูููุฉ: 06-5802666",
                "deadline": "48 ุณุงุนุฉ ููุดููู - 30 ููู ููุชูุงุถู"
            },
            "๐ธ ุญุฌุฒ ุงูุฑูุงุชุจ": {
                "urgency": "ุนุงููุฉ", 
                "actions": [
                    "ุชูุซูู ุชุงุฑูุฎ ุนุฏู ุงูุตุฑู ุจุฏูุฉ",
                    "ุทูุจ ุฅูุงุฏุฉ ูุชุงุจูุฉ ูู ุตุงุญุจ ุงูุนูู ุจุฃุณุจุงุจ ุงูุชุฃุฎูุฑ",
                    "ุงูุชูุฌู ูููุชุจ ุงูุนูู ุฎูุงู 48 ุณุงุนุฉ",
                    "ุฅุจูุงุบ ุงูููุงุจุฉ ุฅู ูุฌุฏุช",
                    "ุชูุฏูู ุดููู ุนุงุฌูุฉ ูุฏุงุฆุฑุฉ ุงูุฃุฌูุฑ"
                ],
                "contact": "ุฏุงุฆุฑุฉ ุงูุฃุฌูุฑ ูู ูุฒุงุฑุฉ ุงูุนูู: 06-5802777",
                "deadline": "7 ุฃูุงู ูู ููุนุฏ ุงูุตุฑู - 30 ููู ููุดููู"
            },
            "๐ญ ุธุฑูู ุนูู ุฎุทุฑุฉ": {
                "urgency": "ุนุงููุฉ ุฌุฏุงู",
                "actions": [
                    "ุงูุชููู ุนู ุงูุนูู ุฅุฐุง ูุงู ููุงู ุฎุทุฑ ูุจุงุดุฑ ุนูู ุงูุญูุงุฉ",
                    "ุฅุจูุงุบ ูุณุคูู ุงูุณูุงูุฉ ููุฑุงู",
                    "ุชูุซูู ุงูุญุงูุฉ ุจุงูุตูุฑ ูุงูููุฏูููุงุช",
                    "ุงูุชูุฌู ููุฒุงุฑุฉ ุงูุนูู - ูุณู ุงูุชูุชูุด",
                    "ุงูุฅุจูุงุบ ููุฏูุงุน ุงููุฏูู ุฅุฐุง ูุฒู ุงูุฃูุฑ"
                ],
                "contact": "ูุณู ุงูุณูุงูุฉ ูุงูุตุญุฉ ุงูููููุฉ: 06-5802888 - ุงูุฏูุงุน ุงููุฏูู: 199",
                "deadline": "ููุฑู - ุจุฏูู ุชุฃุฎูุฑ"
            },
            "๐ค ุฅุตุงุจุฉ ุนูู": {
                "urgency": "ุนุงููุฉ",
                "actions": [
                    "ุทูุจ ุงูุฅุณุนุงู ููุฑุงู (199)",
                    "ุฅุจูุงุบ ุตุงุญุจ ุงูุนูู ูุชุงุจูุงู",
                    "ุงูุชูุฌู ูุฃูุฑุจ ูุณุชุดูู ูุชูุซูู ุงูุฅุตุงุจุฉ",
                    "ุงูุฅุจูุงุบ ูุดุฑูุฉ ุงูุชุฃููู ุฎูุงู 24 ุณุงุนุฉ",
                    "ุงูุชูุฌู ููุฒุงุฑุฉ ุงูุนูู - ูุณู ุฅุตุงุจุงุช ุงูุนูู"
                ],
                "contact": "ุงูุทูุงุฑุฆ: 199 - ูุฒุงุฑุฉ ุงูุนูู: 06-5802666 - ุงูุชุฃูููุงุช: 06-5802333",
                "deadline": "24 ุณุงุนุฉ ููุฅุจูุงุบ - 30 ููู ูููุทุงูุจุฉ ุจุงูุชุนููุถ"
            }
        }
        
        for case, details in emergency_cases.items():
            with st.expander(f"{case} - ุฏุฑุฌุฉ ุงูุงุณุชุนุฌุงู: {details['urgency']}"):
                st.markdown("<div class='emergency-card'>", unsafe_allow_html=True)
                st.error("### ๐จ ุงูุฅุฌุฑุงุกุงุช ุงูุนุงุฌูุฉ")
                for action in details['actions']:
                    st.write(f"๐ด {action}")
                
                st.warning(f"**โฐ ุงููููุฉ:** {details['deadline']}")
                st.info(f"**๐ ุฌูุฉ ุงูุงุชุตุงู:** {details['contact']}")
                st.markdown("</div>", unsafe_allow_html=True)
        
        # ุฎุท ุงููุณุงุนุฏุฉ ุงูุณุฑูุน
        st.markdown("### ๐ ุฎุท ุงููุณุงุนุฏุฉ ุงูุณุฑูุน")
        
        help_options = st.radio("ุงุฎุชุฑ ููุน ุงููุณุงุนุฏุฉ:", [
            "๐ฌ ูุญุงุฏุซุฉ ููุฑูุฉ ูุน ูุณุชุดุงุฑ",
            "๐ ุงุชุตู ุจูุง ุงูุขู", 
            "๐ ุงุนุซุฑ ุนูู ุฃูุฑุจ ููุชุจ ุนูู",
            "๐ ูุฏู ุดููู ุทุงุฑุฆุฉ"
        ])
        
        if help_options == "๐ฌ ูุญุงุฏุซุฉ ููุฑูุฉ ูุน ูุณุชุดุงุฑ":
            st.info("ุฌุงุฑู ุงูุงุชุตุงู ุจูุณุชุดุงุฑ ูุงูููู...")
            user_message = st.text_input("ุตู ูุดููุชู ุจุงุฎุชุตุงุฑ:")
            if st.button("ุฅุฑุณุงู") and user_message:
                st.success("ุชู ุฅุฑุณุงู ุฑุณุงูุชูุ ุณูุชู ุงูุฑุฏ ุฎูุงู ุฏูุงุฆู.")
        
        elif help_options == "๐ ุงุชุตู ุจูุง ุงูุขู":
            st.warning("**ุฃุฑูุงู ุงูุทูุงุฑุฆ:**")
            st.write("๐จ ูุฒุงุฑุฉ ุงูุนูู: 06-5802666")
            st.write("๐จ ุงูุฏูุงุน ุงููุฏูู: 199")
            st.write("๐จ ุงูููุงุจุงุช ุงูุนูุงููุฉ: 06-5656123")
        
        elif help_options == "๐ ุงุนุซุฑ ุนูู ุฃูุฑุจ ููุชุจ ุนูู":
            location = st.selectbox("ุงุฎุชุฑ ูุญุงูุธุชู:", [
                "ุนูุงู", "ุฅุฑุจุฏ", "ุงูุฒุฑูุงุก", "ูุฃุฏุจุง", "ุงูุจููุงุก", "ุงููุฑู",
                "ูุนุงู", "ุงูุนูุจุฉ", "ุฌุฑุด", "ุนุฌููู", "ุงูููุฑู", "ุงูุทูููุฉ"
            ])
            if st.button("ุงุจุญุซ ุนู ุงูููุชุจ"):
                st.success(f"ุฃูุฑุจ ููุชุจ ุนูู ูู {location}: ุดุงุฑุน ุงูููู ุญุณูู - ุจุฌุงูุจ ุฃูุงูุฉ ุนูุงู")
        
        elif help_options == "๐ ูุฏู ุดููู ุทุงุฑุฆุฉ":
            st.info("ุณูุชู ุชูุฌููู ููููุฐุฌ ุงูุดููู ุงูุนุงุฌูุฉ...")
            if st.button("ุงูุชูู ูููููุฐุฌ"):
                st.session_state.show_complaint = True
    
    with worker_tabs[5]:
        st.markdown("### ๐ ุงูููุงุฏ ุงููุงููููุฉ ุงููุชุนููุฉ ุจุงูุนูุงู")
        
        # ุงูุจุญุซ ูู ุงูููุงุฏ ุงููุงููููุฉ
        law_search = st.text_input("๐ ุงุจุญุซ ูู ุงูููุงุฏ ุงููุงููููุฉ", placeholder="ุงุฏุฎู ูููุฉ ููุชุงุญูุฉ...")
        
        # ุนุฑุถ ุงูููุงุฏ ุงููุงููููุฉ ุจุดูู ููุธู
        labor_laws = {
            "๐ ุนูุฏ ุงูุนูู": {
                "articles": [
                    {"number": "ุงููุงุฏุฉ 13", "title": "ูุฌูุจ ูุชุงุจุฉ ุงูุนูุฏ", "content": "ูุฌุจ ุฃู ูููู ุนูุฏ ุงูุนูู ููุชูุจุงู ูุจุงููุบุฉ ุงูุนุฑุจูุฉ ููุญุชูู ุนูู ุงูุจูุงูุงุช ุงูุฃุณุงุณูุฉ."},
                    {"number": "ุงููุงุฏุฉ 14", "title": "ุฃููุงุน ุงูุนููุฏ", "content": "ูููู ุนูุฏ ุงูุนูู ูุญุฏุฏ ุงููุฏุฉ ุฃู ุบูุฑ ูุญุฏุฏ ุงููุฏุฉ."},
                    {"number": "ุงููุงุฏุฉ 15", "title": "ูุชุฑุฉ ุงูุชุฌุฑุจุฉ", "content": "ูุง ุชุฌูุฒ ูุชุฑุฉ ุงูุชุฌุฑุจุฉ ุฃู ุชุฒูุฏ ุนูู ุซูุงุซุฉ ุฃุดูุฑ."}
                ]
            },
            "๐ฐ ุงูุฃุฌูุฑ ูุงููุฏููุนุงุช": {
                "articles": [
                    {"number": "ุงููุงุฏุฉ 34", "title": "ุชุนุฑูู ุงูุฃุฌุฑ", "content": "ุงูุฃุฌุฑ ูู ูุง ูุณุชุญูู ุงูุนุงูู ููุงุจู ุนููู ููุฏุงู ุฃู ุนููุงู."},
                    {"number": "ุงููุงุฏุฉ 35", "title": "ุงูุญุฏ ุงูุฃุฏูู ููุฃุฌูุฑ", "content": "ูุญุฏุฏ ูุฌูุณ ุงููุฒุฑุงุก ุงูุญุฏ ุงูุฃุฏูู ููุฃุฌูุฑ."},
                    {"number": "ุงููุงุฏุฉ 55", "title": "ููุนุฏ ุตุฑู ุงูุฃุฌุฑ", "content": "ูุฌุจ ุตุฑู ุงูุฃุฌุฑ ูู ููุงู ุงูุนูู ุฎูุงู ุณุจุนุฉ ุฃูุงู ูู ุงูุชูุงุก ุงูุดูุฑ."}
                ]
            },
            "โฐ ุณุงุนุงุช ุงูุนูู ูุงูุฅุฌุงุฒุงุช": {
                "articles": [
                    {"number": "ุงููุงุฏุฉ 46", "title": "ุณุงุนุงุช ุงูุนูู", "content": "ูุง ุชุฒูุฏ ุณุงุนุงุช ุงูุนูู ุนูู ุซูุงูู ุณุงุนุงุช ููููุงู ุฃู ุซูุงู ูุฃุฑุจุนูู ุณุงุนุฉ ุฃุณุจูุนูุงู."},
                    {"number": "ุงููุงุฏุฉ 52", "title": "ุงูุฅุฌุงุฒุฉ ุงูุณูููุฉ", "content": "ูุณุชุญู ุงูุนุงูู ุฅุฌุงุฒุฉ ุณูููุฉ ูุฏููุนุฉ ุงูุฃุฌุฑ ูุง ุชูู ุนู ุฃุฑุจุนุฉ ุนุดุฑ ูููุงู."},
                    {"number": "ุงููุงุฏุฉ 58", "title": "ุงูุฅุฌุงุฒุฉ ุงููุฑุถูุฉ", "content": "ูุณุชุญู ุงูุนุงูู ุฅุฌุงุฒุฉ ูุฑุถูุฉ ุจุฃุฌุฑ ูุงูู ููุฏุฉ ุฃุฑุจุนุฉ ุนุดุฑ ูููุงู."}
                ]
            },
            "๐ ููุงูุฉ ุงูุฎุฏูุฉ": {
                "articles": [
                    {"number": "ุงููุงุฏุฉ 73", "title": "ุงุณุชุญูุงู ุงูููุงูุฃุฉ", "content": "ูุณุชุญู ุงูุนุงูู ููุงูุฃุฉ ููุงูุฉ ุฎุฏูุฉ ุฅุฐุง ุฃูููุช ุฎุฏูุงุชู."},
                    {"number": "ุงููุงุฏุฉ 74", "title": "ุญุณุงุจ ุงูููุงูุฃุฉ", "content": "ุชุญุณุจ ููุงูุฃุฉ ููุงูุฉ ุงูุฎุฏูุฉ ุจูุตู ุฃุฌุฑ ุนู ูู ุณูุฉ ูู ุงูุฎูุณ ุงูุฃููู ูุจุฑุงุชุจ ูุงูู ุนู ูู ุณูุฉ ุชุงููุฉ."},
                    {"number": "ุงููุงุฏุฉ 77", "title": "ููุนุฏ ุงูุตุฑู", "content": "ุชุตุฑู ูุณุชุญูุงุช ุงูุนุงูู ุฎูุงู ุณุจุนุฉ ุฃูุงู ูู ุงูุชูุงุก ุฎุฏูุชู."}
                ]
            }
        }
        
        for category, laws in labor_laws.items():
            with st.expander(f"{category}"):
                for article in laws["articles"]:
                    # ููุชุฑุฉ ุญุณุจ ุงูุจุญุซ
                    if not law_search or law_search.lower() in article["content"].lower():
                        with st.expander(f"{article['number']}: {article['title']}"):
                            st.markdown(f"""
                            <div class="law-article">
                            <h4>{article['number']}: {article['title']}</h4>
                            <p>{article['content']}</p>
                            </div>
                            """, unsafe_allow_html=True)
                            
                            # ุฃุฏูุงุช ุฅุถุงููุฉ
                            col1, col2, col3 = st.columns(3)
                            with col1:
                                if st.button("๐พ ุญูุธ", key=f"save_{article['number']}"):
                                    st.success("ุชู ุญูุธ ุงููุงุฏุฉ")
                            with col2:
                                if st.button("๐ ูุดุงุฑูุฉ", key=f"share_{article['number']}"):
                                    st.info("ุชู ูุณุฎ ุงูุฑุงุจุท ูููุดุงุฑูุฉ")
                            with col3:
                                if st.button("โ๏ธ ุชูุณูุฑ", key=f"explain_{article['number']}"):
                                    explanation = explain_law_article(article)
                                    st.info(explanation)

# =====================================================
# ๐ ูุณู ุฃุตุญุงุจ ุงูุนูู ุงูููุณุน ุงูุดุงูู
# =====================================================
def show_employers_section():
    st.markdown("### ๐ ูุณู ุฃุตุญุงุจ ุงูุนูู - ุงูุฅุฏุงุฑุฉ ุงููุงููููุฉ ุงููุชูุงููุฉ")
    
    employer_tabs = st.tabs([
        "๐ ูุธุฑุฉ ุนุงูุฉ", 
        "๐ ุงูุงูุชุฒุงูุงุช ุงููุงููููุฉ", 
        "๐ ููุงุฐุฌ ูุนููุฏ",
        "๐ฐ ุงูุญุงุณุจุงุช ุงููุงููุฉ",
        "โ๏ธ ุฅุฏุงุฑุฉ ุงููุฎุงุทุฑ",
        "๐ ุฃุฏูุงุช ุงูููุงุฑุฏ ุงูุจุดุฑูุฉ",
        "๐ ุงูููุงุฏ ุงููุงููููุฉ"
    ])
    
    with employer_tabs[0]:
        st.markdown("### ๐ ูุธุฑุฉ ุนุงูุฉ ูุตุงุญุจ ุงูุนูู")
        
        col1, col2 = st.columns(2)
        
        with col1:
            st.markdown("""
            <div class="success-card">
            <h3>๐ฏ ูููุฒุงุช ุงููุณู</h3>
            <p>ูููุฑ ูุฐุง ุงููุณู ุฌููุน ุงูุฃุฏูุงุช ุงููุงุฒูุฉ ููุฅุฏุงุฑุฉ ุงููุงููููุฉ ุงูุณูููุฉ:</p>
            <ul>
            <li>๐ <strong>ุฃุฏูุงุช ูุงููููุฉ ูุชูุงููุฉ</strong> ููุฅุฏุงุฑุฉ ุงูููููุฉ</li>
            <li>๐ <strong>ููุงุฐุฌ ุนููุฏ ุฌุงูุฒุฉ</strong> ูุงุจูุฉ ููุชุฎุตูุต</li>
            <li>๐ฐ <strong>ุญุงุณุจุงุช ูุงููุฉ ุฏูููุฉ</strong> ูููุณุชุญูุงุช</li>
            <li>โ๏ธ <strong>ุฅุฏุงุฑุฉ ุงููุฎุงุทุฑ ุงููุงููููุฉ</strong> ุจุดูู ุงุณุชุจุงูู</li>
            <li>๐ <strong>ุฃุฏูุงุช ุงูููุงุฑุฏ ุงูุจุดุฑูุฉ</strong> ุงููุชูุงููุฉ</li>
            <li>๐ก๏ธ <strong>ุญูุงูุฉ ูู ุงูุฏุนุงูู ุงููุถุงุฆูุฉ</strong></li>
            </ul>
            </div>
            """, unsafe_allow_html=True)
        
        with col2:
            st.markdown("""
            <div class="info-card">
            <h3>๐ ุฏุนู ุฎุงุต ูุฃุตุญุงุจ ุงูุนูู</h3>
            <p>ุฎุฏูุงุช ูุชุฎุตุตุฉ ูุชุฌูุจ ุงููุดุงูู ุงููุงููููุฉ:</p>
            <ul>
            <li>โ๏ธ <strong>ุงุณุชุดุงุฑุงุช ูุงููููุฉ ูุฎุตุตุฉ</strong></li>
            <li>๐ <strong>ูุฑุงุฌุนุฉ ุงูุนููุฏ ูุงูููุงุฆุญ</strong></li>
            <li>๐ <strong>ุชุญููู ุงููุฎุงุทุฑ ุงููุงููุฉ</strong></li>
            <li>๐ <strong>ุชุฏููู ุงูุงูุชุซุงู ุงููุงูููู</strong></li>
            <li>๐ <strong>ุชุฏุฑูุจ ุงูููุธููู ุนูู ุงูููุงููู</strong></li>
            <li>๐ <strong>ุชุญุฏูุซุงุช ุชุดุฑูุนูุฉ ูุณุชูุฑุฉ</strong></li>
            </ul>
            </div>
            """, unsafe_allow_html=True)
        
        # ุจุทุงูุฉ ุณุฑูุนุฉ ูููุคุณุณุฉ
        st.markdown("### ๐ข ุจุทุงูุฉ ุงููุคุณุณุฉ ุงูุณุฑูุนุฉ")
        col1, col2, col3 = st.columns(3)
        
        with col1:
            company_size = st.selectbox("ุญุฌู ุงููุคุณุณุฉ", [
                "ุตุบูุฑุฉ (1-10 ููุธููู)",
                "ูุชูุณุทุฉ (11-50 ููุธู)",
                "ูุจูุฑุฉ (51-200 ููุธู)", 
                "ูุจูุฑุฉ ุฌุฏุงู (ุฃูุซุฑ ูู 200 ููุธู)"
            ], key="company_size")
        
        with col2:
            industry = st.selectbox("ูุทุงุน ุงูุนูู", [
                "ุงููุทุงุน ุงูุฎุงุต", "ุงูุญูููู", "ุงูุตูุงุนู", "ุงูุชุฌุงุฑู",
                "ุงูุฎุฏูุงุช", "ุงูููุงููุงุช", "ุงูุตุญู", "ุงูุชุนูููู", "ุฃุฎุฑู"
            ], key="company_industry")
        
        with col3:
            establishment_year = st.number_input("ุณูุฉ ุงูุชุฃุณูุณ", min_value=1950, max_value=2024, value=2010, key="establish_year")
        
        if st.button("๐ ุชุญุฏูุซ ุจูุงูุงุช ุงููุคุณุณุฉ", key="update_company"):
            st.success("ุชู ุชุญุฏูุซ ุจูุงูุงุช ุงููุคุณุณุฉ ุจูุฌุงุญ!")
        
        # ุฅุญุตุงุฆูุงุช ุณุฑูุนุฉ
        st.markdown("### ๐ ูุคุดุฑุงุช ุงูุฃุฏุงุก ุงููุงูููู")
        col1, col2, col3, col4 = st.columns(4)
        
        with col1:
            st.metric("ูุนุฏู ุงูุงูุชุซุงู", "85%", "5%")
        with col2:
            st.metric("ูุถุงูุง ุงูุนูู", "3", "-2")
        with col3:
            st.metric("ุงูุชูููุฉ ุงููุงููููุฉ", "15,000 ุฏููุงุฑ", "3%")
        with col4:
            st.metric("ุฑุถุง ุงูููุธููู", "78%", "4%")
    
    with employer_tabs[1]:
        st.markdown("### ๐ ุงูุงูุชุฒุงูุงุช ุงููุงููููุฉ ุงูุดุงููุฉ")
        
        compliance_categories = {
            "๐ ุนููุฏ ุงูุนูู": {
                "description": "ุงูุงูุชุฒุงูุงุช ุงููุชุนููุฉ ุจุนููุฏ ุงูุนูู ูุงูููุงุซูู",
                "obligations": [
                    "ุฅุจุฑุงู ุนูุฏ ุนูู ููุชูุจ ููู ุนุงูู (ุงููุงุฏุฉ 13)",
                    "ุชุญุฏูุฏ ููุน ุงูุนูุฏ (ูุญุฏุฏ/ุบูุฑ ูุญุฏุฏ ุงููุฏุฉ) (ุงููุงุฏุฉ 14)",
                    "ุชูุถูุญ ูุงูุฉ ุจููุฏ ูุดุฑูุท ุงูุนูู ุจุดูู ูุงุถุญ",
                    "ุชุณููู ูุณุฎุฉ ูู ุงูุนูุฏ ููุนุงูู (ุงููุงุฏุฉ 13)",
                    "ุงูุชูููุน ุนูู ุงูุนูุฏ ูู ุงูุทุฑููู"
                ],
                "deadline": "ูุจู ุจุฏุก ุงูุนูู",
                "penalty": "ุบุฑุงูุฉ 100-300 ุฏููุงุฑ (ุงููุงุฏุฉ 105)"
            },
            "๐ฐ ุงูุฃุฌูุฑ ูุงููุฏููุนุงุช": {
                "description": "ุงูุงูุชุฒุงูุงุช ุงููุงููุฉ ุชุฌุงู ุงูุนุงูููู",
                "obligations": [
                    "ุงูุงูุชุฒุงู ุจุงูุญุฏ ุงูุฃุฏูู ููุฃุฌูุฑ (ุงููุงุฏุฉ 35)",
                    "ุตุฑู ุงูุฑูุงุชุจ ูู ููุนุฏูุง (ุฃูู 7 ุฃูุงู ูู ุงูุดูุฑ) (ุงููุงุฏุฉ 55)",
                    "ุชุณุฏูุฏ ูุงูุฉ ุงููุณุชุญูุงุช ุงููุงููุฉ ุงููุณุชุญูุฉ",
                    "ุนุฏู ุฎุตู ุฃูุซุฑ ูู 10% ูู ุงูุฑุงุชุจ (ุงููุงุฏุฉ 39)",
                    "ุตุฑู ุจุฏู ุงูุนูู ุงูุฅุถุงูู (ุงููุงุฏุฉ 42)"
                ],
                "deadline": "ุฃูู 7 ุฃูุงู ูู ุงูุดูุฑ",
                "penalty": "ุบุฑุงูุฉ 100-300 ุฏููุงุฑ (ุงููุงุฏุฉ 105)"
            },
            "โฐ ุณุงุนุงุช ุงูุนูู ูุงูุฅุฌุงุฒุงุช": {
                "description": "ุชูุธูู ุฃููุงุช ุงูุนูู ูุงูุฑุงุญุฉ",
                "obligations": [
                    "ุนุฏู ุชุฌุงูุฒ 8 ุณุงุนุงุช ุนูู ููููุงู (ุงููุงุฏุฉ 46)",
                    "ููุญ ุฅุฌุงุฒุฉ ุฃุณุจูุนูุฉ ูุฏููุนุฉ ุงูุฃุฌุฑ (ุงููุงุฏุฉ 48)",
                    "ุชุณุฌูู ุณุงุนุงุช ุงูุนูู ุงูุฅุถุงูู ุจุฏูุฉ (ุงููุงุฏุฉ 42)",
                    "ููุญ ุงูุฅุฌุงุฒุงุช ุงูุณูููุฉ ูุงููุฑุถูุฉ (ุงูููุงุฏ 52-58)",
                    "ุงุญุชุฑุงู ุฃููุงุช ุงูุฑุงุญุฉ ูุงูุฅุฌุงุฒุงุช ุงูุฑุณููุฉ"
                ],
                "deadline": "ูุณุชูุฑ",
                "penalty": "ุบุฑุงูุฉ 200-500 ุฏููุงุฑ (ุงููุงุฏุฉ 106)"
            },
            "๐ฅ ุงูุชุฃูููุงุช ูุงูุถูุงู": {
                "description": "ุงูุงูุชุฒุงูุงุช ุงูุชุฃููููุฉ ูุงูุถูุงููุฉ",
                "obligations": [
                    "ุชุณุฌูู ุงูุนุงูููู ูู ุงูุถูุงู ุงูุงุฌุชูุงุนู (ูุงููู ุงูุถูุงู)",
                    "ุฎุตู ูุชูุฑูุฏ ุงุดุชุฑุงูุงุช ุงูุชุฃูููุงุช ูู ููุนุฏูุง",
                    "ุชูููุฑ ุงูุชุฃููู ุงูุตุญู ููุนุงูููู ุฅู ูุฌุฏ",
                    "ุงูุฅุจูุงุบ ุนู ุฅุตุงุจุงุช ุงูุนูู ุฎูุงู 24 ุณุงุนุฉ",
                    "ุชุณุฏูุฏ ูุณุชุญูุงุช ุงูุชุฃูููุงุช ุงููุชุฃุฎุฑุฉ"
                ],
                "deadline": "ุดูุฑูุงู ููุชุฃูููุงุช",
                "penalty": "ุบุฑุงูุฉ ุชุฃุฎูุฑ 2% ุดูุฑูุงู"
            },
            "๐ ุงูุณูุงูุฉ ูุงูุตุญุฉ ุงูููููุฉ": {
                "description": "ุชูููุฑ ุจูุฆุฉ ุนูู ุขููุฉ",
                "obligations": [
                    "ุชูููุฑ ุจูุฆุฉ ุนูู ุขููุฉ ูุตุญูุฉ (ุงููุงุฏุฉ 79)",
                    "ุชุฌููุฒ ููุงู ุงูุนูู ุจูุนุฏุงุช ุงูุณูุงูุฉ ุงููุงุฒูุฉ",
                    "ุชุฏุฑูุจ ุงูุนุงูููู ุนูู ุฅุฌุฑุงุกุงุช ุงูุณูุงูุฉ (ุงููุงุฏุฉ 80)",
                    "ุงูุฅุจูุงุบ ุนู ุงูุญูุงุฏุซ ูุงูุฅุตุงุจุงุช (ุงููุงุฏุฉ 83)",
                    "ุฅุฌุฑุงุก ุงููุดู ุงูุทุจู ุงูุฏูุฑู (ุงููุงุฏุฉ 81)"
                ],
                "deadline": "ูุณุชูุฑ",
                "penalty": "ุบุฑุงูุฉ 500-1000 ุฏููุงุฑ (ุงููุงุฏุฉ 107)"
            }
        }
        
        for category, info in compliance_categories.items():
            with st.expander(f"{category} - {info['description']}"):
                st.write("**ุงูุงูุชุฒุงูุงุช:**")
                for obligation in info['obligations']:
                    st.write(f"โ {obligation}")
                
                col1, col2 = st.columns(2)
                with col1:
                    st.warning(f"**ุงูููุนุฏ ุงูููุงุฆู:** {info['deadline']}")
                with col2:
                    st.error(f"**ุงูุนููุจุฉ:** {info['penalty']}")
                
                # ุญุงูุฉ ุงูุงูุชุฒุงู
                status = st.selectbox(f"ุญุงูุฉ ุงูุงูุชุฒุงู", [
                    "ููุชุฒู ุจุงููุงูู",
                    "ููุชุฒู ุฌุฒุฆูุงู", 
                    "ุบูุฑ ููุชุฒู",
                    "ุชุญุช ุงููุฑุงุฌุนุฉ"
                ], key=f"comp_status_{category}")
                
                if status != "ููุชุฒู ุจุงููุงูู":
                    st.warning(f"โ๏ธ ุชุญุชุงุฌ ุฅูู ูุฑุงุฌุนุฉ ุงูุงูุชุฒุงูุงุช ูู {category}")
        
        # ุชูุฑูุฑ ุงูุงูุชุฒุงู ุงูุดุงูู
        if st.button("๐ ุฅูุดุงุก ุชูุฑูุฑ ุงูุงูุชุฒุงู ุงูุดุงูู", key="compliance_report"):
            st.success("""
            ## ๐ ุชูุฑูุฑ ุงูุงูุชุฒุงู ุงููุงูููู
            
            **ุงูุญุงูุฉ ุงูุนุงูุฉ:** โ๏ธ ุชุญุชุงุฌ ูุชุญุณููุงุช
            
            **ุงูุชูุตูุงุช:**
            - ูุฑุงุฌุนุฉ ุนููุฏ ุงูุนูู ูุน ูุญุงูู ูุชุฎุตุต
            - ุชุญุฏูุซ ุณุฌูุงุช ุณุงุนุงุช ุงูุนูู
            - ุชุฏููู ูุณุชุญูุงุช ุงูุนุงูููู
            - ุชุฏุฑูุจ ูุณุคููู ุงูููุงุฑุฏ ุงูุจุดุฑูุฉ
            
            **ุงูุฅุฌุฑุงุกุงุช ุงูุนุงุฌูุฉ:**
            1. ูุฑุงุฌุนุฉ ุฌููุน ุงูุนููุฏ ุฎูุงู 30 ููู
            2. ุชุญุฏูุซ ุณุฌูุงุช ุงูุชุฃูููุงุช
            3. ุชุฏุฑูุจ ูุฑููู ุนูู ูุชุทูุจุงุช ุงููุงููู
            """)
    
    with employer_tabs[2]:
        st.markdown("### ๐ ููุงุฐุฌ ูุนููุฏ ุฌุงูุฒุฉ")
        
        contract_types = {
            "๐ ุนูุฏ ุนูู ุฏุงุฆู": {
                "description": "ุนูุฏ ุบูุฑ ูุญุฏุฏ ุงููุฏุฉ ููุนุงูููู ุงูุฏุงุฆููู",
                "features": ["ูุญุฏุฏ ุงููุฏุฉ", "ูุดูู ูุงูุฉ ุงูุญููู", "ูุชูุงูู ูุน ุงููุงููู"],
                "legal_basis": ["ุงููุงุฏุฉ 14", "ุงููุงุฏุฉ 15", "ุงููุงุฏุฉ 16"],
                "download": "ุนูุฏ_ุนูู_ุฏุงุฆู.docx"
            },
            "โฑ๏ธ ุนูุฏ ุนูู ูุคูุช": {
                "description": "ุนูุฏ ูุญุฏุฏ ุงููุฏุฉ ูููุดุงุฑูุน ุงููุคูุชุฉ", 
                "features": ["ูุญุฏุฏ ุงููุฏุฉ", "ูุฑู", "ูููุดุงุฑูุน ุงููุคูุชุฉ"],
                "legal_basis": ["ุงููุงุฏุฉ 14", "ุงููุงุฏุฉ 30"],
                "download": "ุนูุฏ_ุนูู_ูุคูุช.docx"
            },
            "๐ง ุนูุฏ ุนูู ุฌุฒุฆู": {
                "description": "ููุนุงูููู ุจุฏูุงู ุฌุฒุฆู",
                "features": ["ุณุงุนุงุช ูุญุฏุฏุฉ", "ูุฑู", "ูููุธุงุฆู ุงูุฌุฒุฆูุฉ"],
                "legal_basis": ["ุงููุงุฏุฉ 46", "ุงููุงุฏุฉ 47"],
                "download": "ุนูุฏ_ุนูู_ุฌุฒุฆู.docx"
            },
            "๐ ูุงุฆุญุฉ ุงูุนูู ุงูุฏุงุฎููุฉ": {
                "description": "ุชูุธูู ุดุคูู ุงูุนูู ุฏุงุฎู ุงููุคุณุณุฉ",
                "features": ["ุดุงูู", "ูุงุถุญ", "ููุฒู ููุฌููุน"],
                "legal_basis": ["ุงููุงุฏุฉ 27", "ุงููุงุฏุฉ 28"],
                "download": "ูุงุฆุญุฉ_ุนูู_ุฏุงุฎููุฉ.docx"
            }
        }
        
        selected_contract = st.selectbox("ุงุฎุชุฑ ููุน ุงููููุฐุฌ", list(contract_types.keys()))
        
        if selected_contract:
            contract_info = contract_types[selected_contract]
            
            st.write(f"**ุงููุตู:** {contract_info['description']}")
            
            col1, col2 = st.columns(2)
            
            with col1:
                st.write("**ุงููููุฒุงุช:**")
                for feature in contract_info['features']:
                    st.write(f"โข {feature}")
                
                st.write("**ุงูุฃุณุงุณ ุงููุงูููู:**")
                for basis in contract_info['legal_basis']:
                    st.write(f"โ๏ธ {basis}")
            
            with col2:
                # ุชุฎุตูุต ุงูุนูุฏ
                st.write("**ุฎูุงุฑุงุช ุงูุชุฎุตูุต:**")
                include_non_compete = st.checkbox("ุดุฑุท ุนุฏู ุงูููุงูุณุฉ", value=False)
                include_confidentiality = st.checkbox("ุดุฑุท ุงูุณุฑูุฉ", value=True)
                probation_period = st.selectbox("ูุชุฑุฉ ุงูุชุฌุฑุจุฉ", ["3 ุฃุดูุฑ", "6 ุฃุดูุฑ", "ูุง ููุฌุฏ"])
                notice_period = st.selectbox("ูุชุฑุฉ ุงูุฅุฎุทุงุฑ", ["30 ููู", "60 ููู", "90 ููู"])
            
            # ูุนุงููุฉ ุงููููุฐุฌ
            if st.button("๐๏ธ ูุนุงููุฉ ุงููููุฐุฌ", key="preview_contract"):
                contract_preview = generate_contract_preview(
                    selected_contract, include_non_compete, include_confidentiality, 
                    probation_period, notice_period
                )
                
                with st.expander("๐ ูุนุงููุฉ ุงููููุฐุฌ", expanded=True):
                    st.text_area("ุงููููุฐุฌ", contract_preview, height=300)
            
            # ุชุญููู ุงููููุฐุฌ
            if st.button("๐ฅ ุชุญููู ุงููููุฐุฌ", key="download_contract"):
                st.success(f"ุชู ุชุญููู {selected_contract} ุจูุฌุงุญ!")
                st.info("""
                **ุฎุทูุงุช ุงูุชุงููุฉ:**
                1. ูู ุจููุก ุงูุจูุงูุงุช ุงููุทููุจุฉ
                2. ุฑุงุฌุน ุงููููุฐุฌ ูุน ูุญุงูู
                3. ุงุญุตู ุนูู ุชูููุน ุงูุทุฑููู
                4. ุงุญูุธ ูุณุฎุฉ ูููุนุฉ
                5. ุณุฌู ุงูุนูุฏ ูู ุณุฌูุงุช ุงููุคุณุณุฉ
                """)
        
        # ุฃุฏุงุฉ ุฅูุดุงุก ุนููุฏ ูุฎุตุตุฉ
        st.markdown("---")
        st.markdown("### ๐๏ธ ุฃุฏุงุฉ ุฅูุดุงุก ุนููุฏ ูุฎุตุตุฉ")
        
        with st.form("custom_contract_form"):
            st.write("**ุฃุฏุฎู ุจูุงูุงุช ุงูุนูุฏ ุงููุฎุตุต:**")
            
            col1, col2 = st.columns(2)
            
            with col1:
                employee_name = st.text_input("ุงุณู ุงูููุธู")
                job_title = st.text_input("ุงููุณูู ุงููุธููู")
                salary = st.number_input("ุงูุฑุงุชุจ ุงูุฃุณุงุณู (ุฏููุงุฑ)", min_value=200, value=500)
                start_date = st.date_input("ุชุงุฑูุฎ ุงูุจุฏุก")
            
            with col2:
                contract_duration = st.selectbox("ูุฏุฉ ุงูุนูุฏ", ["ูุญุฏุฏ ุงููุฏุฉ", "ุบูุฑ ูุญุฏุฏ ุงููุฏุฉ"])
                working_hours = st.number_input("ุณุงุนุงุช ุงูุนูู ุงูุฃุณุจูุนูุฉ", min_value=10, max_value=48, value=40)
                probation_days = st.number_input("ุฃูุงู ูุชุฑุฉ ุงูุชุฌุฑุจุฉ", min_value=0, max_value=180, value=90)
                notice_days = st.number_input("ุฃูุงู ุงูุฅุฎุทุงุฑ", min_value=7, max_value=90, value=30)
            
            # ุจููุฏ ุฅุถุงููุฉ
            st.write("**ุงูุจููุฏ ุงูุฅุถุงููุฉ:**")
            special_conditions = st.text_area("ุดุฑูุท ุฎุงุตุฉ", placeholder="ุฃู ุดุฑูุท ุฅุถุงููุฉ ุชุฑูุฏ ุฅุถุงูุชูุง...")
            benefits = st.text_area("ุงููุฒุงูุง ุงูุฅุถุงููุฉ", placeholder="ุงูุชุฃููู ุงูุตุญูุ ุจุฏูุงุชุ ุฅูุฎ...")
            
            if st.form_submit_button("๐๏ธ ุฅูุดุงุก ุงูุนูุฏ ุงููุฎุตุต"):
                custom_contract = generate_custom_contract(
                    employee_name, job_title, salary, start_date, 
                    contract_duration, working_hours, probation_days,
                    notice_days, special_conditions, benefits
                )
                
                st.success("### ๐ ุงูุนูุฏ ุงููุฎุตุต ุฌุงูุฒ!")
                st.text_area("ุงูุนูุฏ ุงููุฎุตุต", custom_contract, height=400)
                
                st.download_button(
                    label="๐ฅ ุญูู ุงูุนูุฏ ุงููุฎุตุต",
                    data=custom_contract,
                    file_name=f"ุนูุฏ_ุนูู_{employee_name}_{datetime.now().strftime('%Y%m%d')}.txt",
                    mime="text/plain"
                )
    
    with employer_tabs[3]:
        st.markdown("### ๐ฐ ุงูุญุงุณุจุงุช ุงููุงููุฉ ูุฃุตุญุงุจ ุงูุนูู")
        
        finance_calcs = st.tabs([
            "๐ ุญุณุงุจ ุงูุชูููุฉ ุงูุดูุฑูุฉ",
            "๐ฐ ูุณุชุญูุงุช ููุงูุฉ ุงูุฎุฏูุฉ", 
            "๐ฅ ุชูุงููู ุงูุฅุฌุงุฒุงุช",
            "๐ ุชุญููู ุงูุชูุงููู"
        ])
        
        with finance_calcs[0]:
            st.markdown("### ๐ ุญุงุณุจุฉ ุงูุชูููุฉ ุงูุดูุฑูุฉ ููููุธู")
            
            col1, col2 = st.columns(2)
            
            with col1:
                basic_salary = st.number_input("ุงูุฑุงุชุจ ุงูุฃุณุงุณู (ุฏููุงุฑ)", min_value=200, value=500, key="monthly_basic")
                housing_allowance = st.number_input("ุจุฏู ุงูุณูู (ุฏููุงุฑ)", value=100, key="monthly_housing")
                transport_allowance = st.number_input("ุจุฏู ุงูููุงุตูุงุช (ุฏููุงุฑ)", value=50, key="monthly_transport")
                other_allowances = st.number_input("ุจุฏูุงุช ุฃุฎุฑู (ุฏููุงุฑ)", value=0, key="monthly_other")
            
            with col2:
                overtime_hours = st.number_input("ุณุงุนุงุช ุนูู ุฅุถุงูู ูุชููุนุฉ", value=10, key="monthly_overtime")
                overtime_rate = st.number_input("ูุนุฏู ุงูุณุงุนุฉ ุงูุฅุถุงููุฉ (ุฏููุงุฑ)", value=2.5, key="monthly_overtime_rate")
                social_security = st.checkbox("ุงุญุชุณุงุจ ุงูุถูุงู ุงูุงุฌุชูุงุนู (7.5%)", value=True, key="monthly_ss")
                income_tax = st.checkbox("ุงุญุชุณุงุจ ุถุฑูุจุฉ ุงูุฏุฎู", value=True, key="monthly_tax")
            
            if st.button("๐งฎ ุงุญุณุจ ุงูุชูููุฉ ุงูุดูุฑูุฉ", key="calc_monthly"):
                total_allowances = housing_allowance + transport_allowance + other_allowances
                overtime_cost = overtime_hours * overtime_rate
                gross_salary = basic_salary + total_allowances + overtime_cost
                
                # ุงูุฎุตููุงุช
                deductions = 0
                if social_security:
                    deductions += gross_salary * 0.075  # 7.5% ุถูุงู ุงุฌุชูุงุนู
                if income_tax and gross_salary > 200:  # ุงูุชุฑุงุถ ุญุฏ ุงูุฅุนูุงุก
                    tax = calculate_income_tax(gross_salary)
                    deductions += tax
                
                net_salary = gross_salary - deductions
                employer_cost = gross_salary + (gross_salary * 0.125)  # 12.5% ุถูุงู ุตุงุญุจ ุงูุนูู
                
                st.success(f"""
                ## ๐ฐ ูุชุงุฆุฌ ุงูุชูููุฉ ุงูุดูุฑูุฉ
                
                **ุงูุชูุงุตูู:**
                - ๐ ุงูุฑุงุชุจ ุงูุฅุฌูุงูู: **{gross_salary:,.2f}** ุฏููุงุฑ
                - ๐ธ ุตุงูู ุฑุงุชุจ ุงูููุธู: **{net_salary:,.2f}** ุฏููุงุฑ  
                - ๐ข ุงูุชูููุฉ ุงููุนููุฉ ุนูู ุตุงุญุจ ุงูุนูู: **{employer_cost:,.2f}** ุฏููุงุฑ
                - ๐ฆ ุฅุฌูุงูู ุงูุฎุตููุงุช: **{deductions:,.2f}** ุฏููุงุฑ
                - โฐ ุชูููุฉ ุงูุนูู ุงูุฅุถุงูู: **{overtime_cost:,.2f}** ุฏููุงุฑ
                
                **ุงูุชูุฒูุน ุงููุณุจู:**
                - ุงูุฑุงุชุจ ุงูุฃุณุงุณู: {(basic_salary/employer_cost)*100:.1f}%
                - ุงูุจุฏูุงุช: {(total_allowances/employer_cost)*100:.1f}%
                - ุงูุนูู ุงูุฅุถุงูู: {(overtime_cost/employer_cost)*100:.1f}%
                - ุงูุถูุงู ุงูุงุฌุชูุงุนู: {((gross_salary * 0.125)/employer_cost)*100:.1f}%
                """)
        
        with finance_calcs[1]:
            st.markdown("### ๐ฐ ุญุงุณุจุฉ ูุณุชุญูุงุช ููุงูุฉ ุงูุฎุฏูุฉ")
            
            col1, col2 = st.columns(2)
            
            with col1:
                end_salary = st.number_input("ุงูุฑุงุชุจ ุงูุฃุฎูุฑ (ุฏููุงุฑ)", value=600, key="employer_end_salary")
                service_years = st.number_input("ูุฏุฉ ุงูุฎุฏูุฉ (ุณููุงุช)", value=5, key="employer_years")
                service_months = st.number_input("ูุฏุฉ ุงูุฎุฏูุฉ (ุฃุดูุฑ)", value=0, key="employer_months")
                end_reason = st.selectbox("ุณุจุจ ุฅููุงุก ุงูุฎุฏูุฉ", [
                    "ุงุณุชูุงูุฉ",
                    "ุฅููุงุก ุฎุฏูุฉ",
                    "ุงูุชูุงุก ุนูุฏ", 
                    "ูุตู ุชุฃุฏูุจู",
                    "ููุงุฉ ุฃู ุนุฌุฒ"
                ], key="employer_end_reason")
            
            with col2:
                has_vacation = st.checkbox("ููุงู ุฅุฌุงุฒุงุช ูุณุชุญูุฉ", value=True, key="employer_vacation")
                vacation_days = st.number_input("ุฃูุงู ุงูุฅุฌุงุฒุงุช ุงููุณุชุญูุฉ", value=10, key="employer_vac_days") if has_vacation else 0
                has_overtime = st.checkbox("ููุงู ูุณุชุญูุงุช ุนูู ุฅุถุงูู", value=True, key="employer_overtime")
                overtime_amount = st.number_input("ูุจูุบ ุงูุนูู ุงูุฅุถุงูู", value=200, key="employer_overtime_amt") if has_overtime else 0
            
            if st.button("๐งฎ ุงุญุณุจ ุงููุณุชุญูุงุช", key="calc_employer_end"):
                end_service = calculate_employer_end_service(end_salary, service_years, service_months, end_reason)
                vacation_pay = (end_salary / 30) * vacation_days if has_vacation else 0
                total_due = end_service + vacation_pay + overtime_amount
                
                st.success(f"""
                ## ๐ ูุณุชุญูุงุช ููุงูุฉ ุงูุฎุฏูุฉ
                
                **ุงูุชูุงุตูู:**
                - ๐ผ ููุงูุฃุฉ ููุงูุฉ ุงูุฎุฏูุฉ: **{end_service:,.2f}** ุฏููุงุฑ
                - ๐ด ูุณุชุญูุงุช ุงูุฅุฌุงุฒุงุช: **{vacation_pay:,.2f}** ุฏููุงุฑ
                - โฐ ูุณุชุญูุงุช ุนูู ุฅุถุงูู: **{overtime_amount:,.2f}** ุฏููุงุฑ
                - ๐ฐ **ุงูุฅุฌูุงูู ุงููุณุชุญู:** **{total_due:,.2f}** ุฏููุงุฑ
                
                **ุงูุฃุณุงุณ ุงููุงูููู:**
                - ุงููุงุฏุฉ 74: ุญุณุงุจ ููุงูุฃุฉ ููุงูุฉ ุงูุฎุฏูุฉ
                - ุงููุงุฏุฉ 52: ูุณุชุญูุงุช ุงูุฅุฌุงุฒุงุช
                - ุงููุงุฏุฉ 42: ูุณุชุญูุงุช ุงูุนูู ุงูุฅุถุงูู
                - ุงููุงุฏุฉ 77: ููุนุฏ ุตุฑู ุงููุณุชุญูุงุช
                
                **ููุงุญุธุงุช:**
                - ุงููุจุงูุบ ุญุณุจ ูุงููู ุงูุนูู ุงูุฃุฑุฏูู
                - ููุตู ุจุงูุชุดุงูุฑ ูุน ูุญุงูู ููุชุฃูุฏ
                - ุงุญุชูุธ ุจุณุฌูุงุช ุงูุฏูุน ูุฅุซุจุงุช
                - ุงูุตุฑู ุฎูุงู 7 ุฃูุงู ูู ุงูุชูุงุก ุงูุฎุฏูุฉ
                """)
        
        with finance_calcs[2]:
            st.markdown("### ๐ฅ ุญุงุณุจุฉ ุชูุงููู ุงูุฅุฌุงุฒุงุช")
            
            col1, col2 = st.columns(2)
            
            with col1:
                total_employees = st.number_input("ุนุฏุฏ ุงูููุธููู", min_value=1, value=10, key="vacation_employees")
                avg_salary = st.number_input("ูุชูุณุท ุงูุฑุงุชุจ (ุฏููุงุฑ)", value=500, key="vacation_avg_salary")
                annual_vacation = st.number_input("ุงูุฅุฌุงุฒุฉ ุงูุณูููุฉ (ููู)", value=14, key="vacation_days")
            
            with col2:
                sick_days_avg = st.number_input("ูุชูุณุท ุงูุฅุฌุงุฒุงุช ุงููุฑุถูุฉ (ููู/ููุธู)", value=5, key="sick_days_avg")
                maternity_cases = st.number_input("ุญุงูุงุช ุฅุฌุงุฒุฉ ุฃูููุฉ ูุชููุนุฉ", value=1, key="maternity_cases")
                training_days = st.number_input("ุฃูุงู ุงูุชุฏุฑูุจ ุงููุฏููุนุฉ", value=3, key="training_days")
            
            if st.button("๐งฎ ุงุญุณุจ ุชูุงููู ุงูุฅุฌุงุฒุงุช", key="calc_vacation_costs"):
                daily_rate = avg_salary / 30
                
                # ุชูุงููู ุงูุฅุฌุงุฒุงุช ุงูุณูููุฉ
                annual_vacation_cost = total_employees * annual_vacation * daily_rate
                
                # ุชูุงููู ุงูุฅุฌุงุฒุงุช ุงููุฑุถูุฉ
                sick_leave_cost = total_employees * sick_days_avg * daily_rate * 0.75  # 75% ุฑุงุชุจ
                
                # ุชูุงููู ุฅุฌุงุฒุฉ ุงูุฃูููุฉ
                maternity_cost = maternity_cases * 70 * daily_rate  # 70 ููู ุฅุฌุงุฒุฉ ุฃูููุฉ
                
                # ุชูุงููู ุฃูุงู ุงูุชุฏุฑูุจ
                training_cost = total_employees * training_days * daily_rate
                
                total_vacation_cost = annual_vacation_cost + sick_leave_cost + maternity_cost + training_cost
                
                st.success(f"""
                ## ๐ฅ ุชูุงููู ุงูุฅุฌุงุฒุงุช ุงูุณูููุฉ ุงููุชููุนุฉ
                
                **ุงูุชูุงุตูู:**
                - ๐ด ุงูุฅุฌุงุฒุงุช ุงูุณูููุฉ: **{annual_vacation_cost:,.2f}** ุฏููุงุฑ
                - ๐ฅ ุงูุฅุฌุงุฒุงุช ุงููุฑุถูุฉ: **{sick_leave_cost:,.2f}** ุฏููุงุฑ  
                - ๐คฐ ุฅุฌุงุฒุงุช ุงูุฃูููุฉ: **{maternity_cost:,.2f}** ุฏููุงุฑ
                - ๐ ุฃูุงู ุงูุชุฏุฑูุจ: **{training_cost:,.2f}** ุฏููุงุฑ
                - ๐ฐ **ุงูุฅุฌูุงูู ุงูุณููู:** **{total_vacation_cost:,.2f}** ุฏููุงุฑ
                - ๐ **ุงููุนุฏู ุงูุดูุฑู:** **{total_vacation_cost / 12:,.2f}** ุฏููุงุฑ
                
                **ูุตุงุฆุญ ุงูุชุฎููุถ:**
                - ุชุญุณูู ุฅุฏุงุฑุฉ ุงูุฅุฌุงุฒุงุช
                - ุชุฎุทูุท ุงูุชุฏุฑูุจ ุจุดูู ูุฑูุฒู
                - ุชูุนูู ุงูุนูู ุนู ุจุนุฏ ููุฅุฌุงุฒุงุช ุงููุฑุถูุฉ ุงููุตูุฑุฉ
                - ุงูุงุณุชูุงุฏุฉ ูู ุงูุฅุฌุงุฒุงุช ุงููุฑูุฉ
                """)
        
        with finance_calcs[3]:
            st.markdown("### ๐ ุชุญููู ุงูุชูุงููู ูุงูููุงุฑูุงุช")
            
            col1, col2 = st.columns(2)
            
            with col1:
                current_employees = st.number_input("ุงูุนุฏุฏ ุงูุญุงูู ููููุธููู", value=15, key="analysis_current")
                current_avg_salary = st.number_input("ูุชูุณุท ุงูุฑุงุชุจ ุงูุญุงูู (ุฏููุงุฑ)", value=550, key="analysis_avg")
                turnover_rate = st.slider("ูุนุฏู ุฏูุฑุงู ุงูููุธููู (%)", 0, 100, 15, key="analysis_turnover")
            
            with col2:
                recruitment_cost = st.number_input("ุชูููุฉ ุชูุธูู ููุธู ุฌุฏูุฏ (ุฏููุงุฑ)", value=1000, key="analysis_recruitment")
                training_cost_per = st.number_input("ุชูููุฉ ุชุฏุฑูุจ ููุธู ุฌุฏูุฏ (ุฏููุงุฑ)", value=500, key="analysis_training")
                productivity_loss = st.number_input("ุฎุณุงุฑุฉ ุงูุฅูุชุงุฌูุฉ ุฃุซูุงุก ุงูุชุฏุฑูุจ (ุฏููุงุฑ)", value=800, key="analysis_productivity")
            
            if st.button("๐ ุงุญูู ุงูุชูุงููู", key="analyze_costs"):
                # ุญุณุงุจ ุชูุงููู ุฏูุฑุงู ุงูููุธููู
                annual_turnover = current_employees * (turnover_rate / 100)
                total_recruitment_cost = annual_turnover * recruitment_cost
                total_training_cost = annual_turnover * training_cost_per
                total_productivity_loss = annual_turnover * productivity_loss
                
                total_turnover_cost = total_recruitment_cost + total_training_cost + total_productivity_loss
                potential_savings = total_turnover_cost * 0.25  # ุงูุชุฑุงุถ ุชูููุฑ 25%
                
                st.success(f"""
                ## ๐ ุชุญููู ุชูุงููู ุงูููุงุฑุฏ ุงูุจุดุฑูุฉ
                
                **ุชูุงููู ุฏูุฑุงู ุงูููุธููู:**
                - ๐ ุชูุงููู ุงูุชูุธูู: **{total_recruitment_cost:,.2f}** ุฏููุงุฑ
                - ๐ ุชูุงููู ุงูุชุฏุฑูุจ: **{total_training_cost:,.2f}** ุฏููุงุฑ
                - ๐ ุฎุณุงุฑุฉ ุงูุฅูุชุงุฌูุฉ: **{total_productivity_loss:,.2f}** ุฏููุงุฑ
                - ๐ธ **ุฅุฌูุงูู ุชูุงููู ุงูุฏูุฑุงู:** **{total_turnover_cost:,.2f}** ุฏููุงุฑ
                
                **ุงูุชูุตูุงุช:**
                - ุฎูุถ ูุนุฏู ุงูุฏูุฑุงู ุจูุณุจุฉ 5% ูููุฑ **{total_turnover_cost * 0.05:,.2f}** ุฏููุงุฑ ุณูููุงู
                - ุงุณุชุซูุฑ ูู ุจุฑุงูุฌ ุงูุงุญุชูุงุธ ุจุงูููุธููู
                - ุญุณู ุจูุฆุฉ ุงูุนูู ูุชูููู ุงูุฏูุฑุงู
                - ููุฑ ูุญุชูู: **{potential_savings:,.2f}** ุฏููุงุฑ ุณูููุงู
                
                **ุจุฑุงูุฌ ููุชุฑุญุฉ:**
                - ุจุฑุงูุฌ ุงูุชุฏุฑูุจ ูุงูุชุทููุฑ
                - ุฎุทุท ุงูุญูุงูุฒ ูุงูููุงูุขุช
                - ุชุญุณูู ุซูุงูุฉ ุงูุนูู
                - ุชุทููุฑ ูุณุงุฑุงุช ุงูุชูุฏู ุงููุธููู
                """)
    
    with employer_tabs[4]:
        st.markdown("### โ๏ธ ุฅุฏุงุฑุฉ ุงููุฎุงุทุฑ ุงููุงููููุฉ")
        
        risk_tabs = st.tabs([
            "๐ ุชุญููู ุงููุฎุงุทุฑ", 
            "๐ก๏ธ ุงูููุงูุฉ ูุงูุญูุงูุฉ", 
            "๐ ุณุฌู ุงููุฎุงุทุฑ",
            "๐จ ุทูุงุฑุฆ ูุงููููุฉ"
        ])
        
        with risk_tabs[0]:
            st.markdown("### ๐ ุชุญููู ุงููุฎุงุทุฑ ุงููุงููููุฉ")
            
            risk_categories = {
                "๐ฐ ูุฎุงุทุฑ ูุงููุฉ": [
                    "ุฏุนุงูู ูุณุชุญูุงุช ุบูุฑ ูุฏููุนุฉ",
                    "ุบุฑุงูุงุช ุชุฃุฎูุฑ ุฑูุงุชุจ", 
                    "ูุทุงูุจุงุช ุชุนููุถ ุนู ูุตู ุชุนุณูู",
                    "ูุฎุงููุงุช ุงูุญุฏ ุงูุฃุฏูู ููุฃุฌูุฑ",
                    "ูุทุงูุจุงุช ุงูุนูู ุงูุฅุถุงูู"
                ],
                "โ๏ธ ูุฎุงุทุฑ ูุถุงุฆูุฉ": [
                    "ุฏุนุงูู ุนูู ูุฑุฏูุฉ ูุฌูุงุนูุฉ",
                    "ูุถุงูุง ุชูููุฒ ุฃู ุชุญุฑุด",
                    "ููุงุฒุนุงุช ุนููุฏ ุงูุนูู", 
                    "ูุถุงูุง ุณูุงูุฉ ููููุฉ",
                    "ูุฒุงุนุงุช ุฅููุงุก ุงูุฎุฏูุฉ"
                ],
                "๐ ูุฎุงุทุฑ ุชุดุบูููุฉ": [
                    "ุชููู ุงูุนูู ุจุณุจุจ ุฅุถุฑุงุจุงุช",
                    "ุฎุณุงุฑุฉ ููุงุกุงุช ุจุณุจุจ ุจูุฆุฉ ุนูู",
                    "ุชุฃุฎุฑ ุชุณููู ูุดุงุฑูุน ุจุณุจุจ ูุฒุงุนุงุช",
                    "ุชุถุฑุฑ ุงูุณูุนุฉ ุงููุคุณุณูุฉ",
                    "ุงูุฎูุงุถ ุงูุฅูุชุงุฌูุฉ"
                ],
                "๐๏ธ ูุฎุงุทุฑ ุชูุธูููุฉ": [
                    "ูุฎุงููุงุช ุชุฑุงุฎูุต ุงูุนูู",
                    "ุนุฏู ุงูุงูุชุซุงู ููููุงููู ุงูุฌุฏูุฏุฉ",
                    "ุชุบููุฑุงุช ุชุดุฑูุนูุฉ ุบูุฑ ูุชููุนุฉ",
                    "ุฑูุงุจุฉ ุฌูุงุช ุญููููุฉ",
                    "ุชุฏููู ููุงุฌุฆ ูู ุงููุฒุงุฑุฉ"
                ]
            }
            
            selected_risks = []
            risk_scores = {}
            
            for category, risks in risk_categories.items():
                with st.expander(f"{category}"):
                    for risk in risks:
                        if st.checkbox(risk, key=f"risk_{risk}"):
                            selected_risks.append(risk)
                            # ุชูููู ูุณุชูู ุงูุฎุทูุฑุฉ
                            col1, col2 = st.columns(2)
                            with col1:
                                probability = st.slider(f"ุงุญุชูุงููุฉ {risk}", 1, 10, 5, key=f"prob_{risk}")
                            with col2:
                                impact = st.slider(f"ุชุฃุซูุฑ {risk}", 1, 10, 5, key=f"impact_{risk}")
                            
                            risk_score = probability * impact
                            risk_scores[risk] = risk_score
            
            if st.button("๐ ุฅูุดุงุก ุชูุฑูุฑ ุงููุฎุงุทุฑ", key="risk_report"):
                if selected_risks:
                    high_risks = [risk for risk, score in risk_scores.items() if score >= 25]
                    medium_risks = [risk for risk, score in risk_scores.items() if 15 <= score < 25]
                    low_risks = [risk for risk, score in risk_scores.items() if score < 15]
                    
                    st.success("## ๐ ุชูุฑูุฑ ุชุญููู ุงููุฎุงุทุฑ")
                    
                    col1, col2, col3 = st.columns(3)
                    
                    with col1:
                        st.error(f"**ูุฎุงุทุฑ ุนุงููุฉ:** {len(high_risks)}")
                        for risk in high_risks:
                            st.write(f"๐ด {risk}")
                    
                    with col2:
                        st.warning(f"**ูุฎุงุทุฑ ูุชูุณุทุฉ:** {len(medium_risks)}")
                        for risk in medium_risks:
                            st.write(f"๐ก {risk}")
                    
                    with col3:
                        st.info(f"**ูุฎุงุทุฑ ููุฎูุถุฉ:** {len(low_risks)}")
                        for risk in low_risks:
                            st.write(f"๐ข {risk}")
                    
                    # ุชูุตูุงุช
                    st.markdown("### ๐ฏ ุชูุตูุงุช ุฅุฏุงุฑุฉ ุงููุฎุงุทุฑ")
                    if high_risks:
                        st.write("**ุฅุฌุฑุงุกุงุช ุนุงุฌูุฉ:**")
                        st.write("- ุชุทููุฑ ุณูุงุณุงุช ูุงุถุญุฉ ููุชุนุงูู ูุน ูุฐู ุงููุฎุงุทุฑ")
                        st.write("- ุชุฏุฑูุจ ุงููุฏูุฑูู ุนูู ุงูุชุนุงูู ูุน ุงููุฒุงุนุงุช")
                        st.write("- ูุฑุงุฌุนุฉ ุงูุนููุฏ ูุงูููุงุฆุญ ุงูุฏุงุฎููุฉ")
                        st.write("- ุงุณุชุดุงุฑุฉ ูุงููููุฉ ุนุงุฌูุฉ")
                    
                    if medium_risks:
                        st.write("**ุฅุฌุฑุงุกุงุช ูุชูุณุทุฉ ุงูุฃุฌู:**")
                        st.write("- ุชุทููุฑ ุฃูุธูุฉ ุงูุฑูุงุจุฉ ุงูุฏุงุฎููุฉ")
                        st.write("- ุชุญุณูู ุขููุงุช ุงูุชูุงุตู ูุน ุงูุนุงูููู")
                        st.write("- ุชุญุฏูุซ ุณูุงุณุงุช ุงูููุงุฑุฏ ุงูุจุดุฑูุฉ")
                    
                    if low_risks:
                        st.write("**ุฅุฌุฑุงุกุงุช ููุงุฆูุฉ:**")
                        st.write("- ุงููุฑุงุฌุนุฉ ุงูุฏูุฑูุฉ ููุงูุชุซุงู")
                        st.write("- ุงูุชุฏุฑูุจ ุงููุณุชูุฑ ููููุธููู")
                        st.write("- ุชุญุณูู ุจูุฆุฉ ุงูุนูู")
                else:
                    st.warning("ูู ูุชู ุงุฎุชูุงุฑ ุฃู ูุฎุงุทุฑ ูุชุญููููุง")
        
        with risk_tabs[1]:
            st.markdown("### ๐ก๏ธ ุฃุฏูุงุช ุงูููุงูุฉ ูุงูุญูุงูุฉ")
            
            prevention_tools = {
                "๐ ุงููุฑุงุฌุนุฉ ุงูุฏูุฑูุฉ ููุนููุฏ": {
                    "description": "ูุฑุงุฌุนุฉ ููุชุธูุฉ ูุฌููุน ุนููุฏ ุงูุนูู ูุงูููุงุฆุญ ุงูุฏุงุฎููุฉ",
                    "frequency": "ูู 6 ุฃุดูุฑ",
                    "benefits": ["ุชุญุฏูุซ ุงูุจููุฏ", "ุชุฌูุจ ุงููุฒุงุนุงุช", "ุงูุงูุชุซุงู ุงููุงูููู", "ุชูููู ุงููุฎุงุทุฑ"],
                    "steps": [
                        "ุฌูุน ุฌููุน ุงูุนููุฏ ุงูุญุงููุฉ",
                        "ูุฑุงุฌุนุฉ ูุน ูุญุงูู ูุชุฎุตุต",
                        "ุชุญุฏูุซ ุงูุจููุฏ ุบูุฑ ุงููุชูุงููุฉ",
                        "ุงูุญุตูู ุนูู ุชูููุนุงุช ุฌุฏูุฏุฉ"
                    ]
                },
                "๐ ุชุฏุฑูุจ ุงููุฏูุฑูู": {
                    "description": "ุจุฑุงูุฌ ุชุฏุฑูุจูุฉ ูู ูุงููู ุงูุนูู ูุฅุฏุงุฑุฉ ุงููุฒุงุนุงุช ูุงูููุงุฏุฉ", 
                    "frequency": "ุณูููุงู",
                    "benefits": ["ุชูููู ุงูุฃุฎุทุงุก", "ุชุญุณูู ุงูุนูุงูุงุช", "ููุน ุงููุฒุงุนุงุช", "ุฑูุน ุงูููุงุกุฉ"],
                    "steps": [
                        "ุชุญุฏูุฏ ุงูุงุญุชูุงุฌุงุช ุงูุชุฏุฑูุจูุฉ",
                        "ุงุฎุชูุงุฑ ุจุฑุงูุฌ ุชุฏุฑูุจูุฉ ูุชุฎุตุตุฉ",
                        "ุชูููุฐ ุฌูุณุงุช ุงูุชุฏุฑูุจ",
                        "ููุงุณ ุงูุฃุซุฑ ูุงูุชุทููุฑ"
                    ]
                }
            }
            
            for tool, info in prevention_tools.items():
                with st.expander(f"{tool}"):
                    st.write(f"**ุงููุตู:** {info['description']}")
                    st.write(f"**ุงูุชูุฑุงุฑ ุงูููุตู ุจู:** {info['frequency']}")
                    
                    st.write("**ุงูููุงุฆุฏ:**")
                    for benefit in info['benefits']:
                        st.write(f"โ {benefit}")
                    
                    st.write("**ุฎุทูุงุช ุงูุชูููุฐ:**")
                    for i, step in enumerate(info['steps'], 1):
                        st.write(f"{i}. {step}")
                    
                    # ุฎุทุฉ ุงูุชูููุฐ
                    if st.button(f"๐ ุฌุฏููุฉ {tool}", key=f"schedule_{tool}"):
                        st.info(f"ุชู ุฌุฏููุฉ {tool} ููุชูููุฐ ุฎูุงู 30 ููู")
        
        with risk_tabs[2]:
            st.markdown("### ๐ ุณุฌู ุงููุฎุงุทุฑ ูุงูุญูุงุฏุซ")
            
            with st.form("incident_log_form"):
                st.write("**ุชุณุฌูู ุญุงุฏุซ ุฃู ุฎุทุฑ ุฌุฏูุฏ:**")
                
                col1, col2 = st.columns(2)
                
                with col1:
                    incident_date = st.date_input("ุชุงุฑูุฎ ุงูุญุงุฏุซ")
                    incident_type = st.selectbox("ููุน ุงูุญุงุฏุซ", [
                        "ูุฒุงุน ุนูู", "ุดููู ุฑุณููุฉ", "ูุถูุฉ ูุถุงุฆูุฉ", 
                        "ุญุงุฏุซ ุนูู", "ูุฎุงููุฉ ูุงููููุฉ", "ุชูุชูุด ููุงุฌุฆ", "ุฃุฎุฑู"
                    ])
                    severity = st.select_slider("ุดุฏุฉ ุงูุญุงุฏุซ", options=["ููุฎูุถ", "ูุชูุณุท", "ุนุงูู", "ุญุฑุฌ"])
                
                with col2:
                    involved_employees = st.text_input("ุงูููุธููู ุงููุนูููู")
                    description = st.text_area("ูุตู ุงูุญุงุฏุซ")
                    actions_taken = st.text_area("ุงูุฅุฌุฑุงุกุงุช ุงููุชุฎุฐุฉ")
                
                if st.form_submit_button("๐ ุชุณุฌูู ุงูุญุงุฏุซ"):
                    st.success("ุชู ุชุณุฌูู ุงูุญุงุฏุซ ูู ุงูุณุฌู ุจูุฌุงุญ")
            
            # ุนุฑุถ ุงูุณุฌู (ูุญุงูุงุฉ)
            st.markdown("#### ๐ ุงูุณุฌู ุงูุฃุฎูุฑ ูููุฎุงุทุฑ")
            incident_log = [
                {"date": "2024-01-15", "type": "ุดููู ุฑุณููุฉ", "severity": "ูุชูุณุท", "status": "ุชู ุงูุญู", "action": "ุชุณููุฉ ูุฏูุฉ"},
                {"date": "2024-01-08", "type": "ูุฒุงุน ุนูู", "severity": "ููุฎูุถ", "status": "ููุฏ ุงููุนุงูุฌุฉ", "action": "ุฌูุณุงุช ุตูุญ"},
                {"date": "2023-12-20", "type": "ูุถูุฉ ูุถุงุฆูุฉ", "severity": "ุนุงูู", "status": "ููุฏ ุงููุญุงููุฉ", "action": "ุงุณุชุดุงุฑุฉ ูุงููููุฉ"}
            ]
            
            for incident in incident_log:
                with st.expander(f"{incident['date']} - {incident['type']} ({incident['severity']})"):
                    st.write(f"**ุงูุญุงูุฉ:** {incident['status']}")
                    st.write(f"**ุงูุฅุฌุฑุงุก:** {incident['action']}")
        
        with risk_tabs[3]:
            st.markdown("### ๐จ ุทูุงุฑุฆ ูุฅุฌุฑุงุกุงุช ุนุงุฌูุฉ")
            
            emergency_scenarios = {
                "๐จ ุฅุถุฑุงุจ ุนูุงูู": {
                    "immediate_actions": [
                        "ุงูุงุชุตุงู ุจููุซููู ุนู ุงูุนูุงู ููุชูุงูุถ ููุฑุงู",
                        "ุฅุจูุงุบ ูุฒุงุฑุฉ ุงูุนูู ูุงูุฌูุงุช ุงููุฎุชุตุฉ",
                        "ุชุฌูุจ ุฃู ุฅุฌุฑุงุกุงุช ุงูุชูุงููุฉ ุฃู ุงุณุชูุฒุงุฒูุฉ",
                        "ุชูุซูู ูุงูุฉ ุงูุฃุญุฏุงุซ ูุงููุฑุงุณูุงุช",
                        "ุชุดููู ูุฌูุฉ ุทูุงุฑุฆ ูุฅุฏุงุฑุฉ ุงูุฃุฒูุฉ"
                    ],
                    "legal_considerations": [
                        "ุงูุญู ูู ุงูุฅุถุฑุงุจ ูููุฏ ูุงูููุงู ุจุดุฑูุท ูุญุฏุฏุฉ",
                        "ุนุฏู ุฌูุงุฒ ูุตู ุงููุถุฑุจูู ุชุนุณููุงู", 
                        "ุถุฑูุฑุฉ ุงุชุจุงุน ุฅุฌุฑุงุกุงุช ุงูุชูุงูุถ ูุงููุณุงุทุฉ",
                        "ุงูุญูุงุธ ุนูู ุณูุงูุฉ ุฌููุน ุงูุฃุทุฑุงู ูุงูููุชููุงุช",
                        "ุงูุงูุชุฒุงู ุจููุงุนุฏ ุงูุญูุงุฑ ุงูุจูุงุก"
                    ],
                    "contacts": [
                        "ูุฒุงุฑุฉ ุงูุนูู - ุงูุทูุงุฑุฆ: 06-5802999",
                        "ุงูุงุชุญุงุฏ ุงูุนุงู ูุฃุตุญุงุจ ุงูุนูู: 06-552-1881",
                        "ุงููุณุชุดุงุฑ ุงููุงูููู: [ุฑูู ุงููุงุชู]"
                    ]
                },
                "โ๏ธ ุจูุงุบ ุชูุชูุด ุนูู": {
                    "immediate_actions": [
                        "ุงุณุชูุจุงู ุงูููุชุด ุจุงุญุชุฑุงู ูุชุนุงูู ูุงูู",
                        "ุทูุจ ูููุชู ุงูุชูุชูุดูุฉ ูุงูุชูููุถ ุงูุฑุณูู",
                        "ุฅุจูุงุบ ุงูุฅุฏุงุฑุฉ ุงูุนููุง ูุงููุณุชุดุงุฑ ุงููุงูููู ููุฑุงู",
                        "ุชูููุฑ ุฌููุน ุงููุณุชูุฏุงุช ุงููุทููุจุฉ ุจุดูู ููุธู",
                        "ูุฑุงููุฉ ุงูููุชุด ุฎูุงู ุฌููุชู ุงูุชูุชูุดูุฉ"
                    ],
                    "legal_considerations": [
                        "ุงูุชุนุงูู ูุน ุงูููุชุด ูุงุฌุจ ูุงูููู ูุฅูุฒุงูู",
                        "ุญู ุงูููุชุด ูู ุงูุงุทูุงุน ุนูู ุงูุณุฌูุงุช ูุงููุณุชูุฏุงุช",
                        "ุฅููุงููุฉ ุงูุงุนุชุฑุงุถ ุนูู ุงููุฎุงููุงุช ุฎูุงู ูุฏุฉ ูุญุฏุฏุฉ",
                        "ุงูุญู ูู ุงูุงุณุชุฆูุงู ุนูู ุงููุฑุงุฑุงุช ูุงูุชูุงุฑูุฑ",
                        "ุถุฑูุฑุฉ ุงูุชูุซูู ุงููุงูู ููุฑุงุญู ุงูุชูุชูุด"
                    ],
                    "contacts": [
                        "ูุฒุงุฑุฉ ุงูุนูู - ุงูุดูุงูู: 06-5802666",
                        "ุฏููุงู ุงูุชุดุฑูุน ูุงูุฑุฃู: 06-566-1191",
                        "ุงููุณุชุดุงุฑ ุงููุงูููู: [ุฑูู ุงููุงุชู]"
                    ]
                }
            }
            
            selected_emergency = st.selectbox("ุงุฎุชุฑ ุณููุงุฑูู ุงูุทูุงุฑุฆ", list(emergency_scenarios.keys()))
            
            if selected_emergency:
                scenario = emergency_scenarios[selected_emergency]
                
                st.markdown("<div class='emergency-card'>", unsafe_allow_html=True)
                st.error("### ๐จ ุงูุฅุฌุฑุงุกุงุช ุงูููุฑูุฉ")
                
                for action in scenario['immediate_actions']:
                    st.write(f"๐ด {action}")
                
                st.warning("### โ๏ธ ุงูุงุนุชุจุงุฑุงุช ุงููุงููููุฉ")
                
                for consideration in scenario['legal_considerations']:
                    st.write(f"โ๏ธ {consideration}")
                
                st.info("### ๐ ุฌูุงุช ุงูุงุชุตุงู ุงูุนุงุฌูุฉ")
                for contact in scenario['contacts']:
                    st.write(f"๐ {contact}")
                
                st.markdown("</div>", unsafe_allow_html=True)
    
    with employer_tabs[5]:
        st.markdown("### ๐ ุฃุฏูุงุช ุงูููุงุฑุฏ ุงูุจุดุฑูุฉ ุงููุชูุงููุฉ")
        
        hr_tools = st.tabs([
            "๐ฅ ุฅุฏุงุฑุฉ ุงูููุธููู", 
            "๐ ุชูููู ุงูุฃุฏุงุก", 
            "๐ฏ ุงูุชุทููุฑ ูุงูุชุฏุฑูุจ",
            "๐ ุชูุงุฑูุฑ ุงูููุงุฑุฏ ุงูุจุดุฑูุฉ"
        ])
        
        with hr_tools[0]:
            st.markdown("### ๐ฅ ุฅุฏุงุฑุฉ ุณุฌูุงุช ุงูููุธููู")
            
            col1, col2 = st.columns(2)
            
            with col1:
                st.subheader("ุฅุถุงูุฉ ููุธู ุฌุฏูุฏ")
                
                with st.form("add_employee_form"):
                    emp_name = st.text_input("ุงูุงุณู ุงููุงูู")
                    emp_id = st.text_input("ุฑูู ุงููููุฉ")
                    emp_position = st.text_input("ุงููุณูู ุงููุธููู")
                    emp_department = st.selectbox("ุงููุณู", ["ุฅุฏุงุฑุฉ", "ูุจูุนุงุช", "ูุญุงุณุจุฉ", "ุฅูุชุงุฌ", "ุฎุฏูุฉ ุนููุงุก", "ุชูููุฉ ูุนูููุงุช"])
                    emp_salary = st.number_input("ุงูุฑุงุชุจ ุงูุฃุณุงุณู", min_value=200, value=500)
                    emp_start_date = st.date_input("ุชุงุฑูุฎ ุงูุชุนููู")
                    
                    if st.form_submit_button("โ ุฅุถุงูุฉ ููุธู"):
                        st.success(f"ุชู ุฅุถุงูุฉ ุงูููุธู {emp_name} ุจูุฌุงุญ!")
            
            with col2:
                st.subheader("ุจุญุซ ุนู ููุธู")
                
                search_term = st.text_input("ุงุจุญุซ ุจุงูุงุณู ุฃู ุงูุฑูู")
                if search_term:
                    # ูุญุงูุงุฉ ูุชุงุฆุฌ ุงูุจุญุซ
                    st.info("ูุชุงุฆุฌ ุงูุจุญุซ:")
                    employees = [
                        {"name": "ุฃุญูุฏ ูุญูุฏ", "position": "ูุฏูุฑ ูุจูุนุงุช", "department": "ูุจูุนุงุช", "status": "ูุดุท", "salary": 750},
                        {"name": "ูุงุทูุฉ ุฎุงูุฏ", "position": "ูุญุงุณุจุฉ", "department": "ูุญุงุณุจุฉ", "status": "ูุดุท", "salary": 600}
                    ]
                    
                    for emp in employees:
                        with st.expander(f"{emp['name']} - {emp['position']}"):
                            st.write(f"**ุงููุณู:** {emp['department']}")
                            st.write(f"**ุงูุญุงูุฉ:** {emp['status']}")
                            st.write(f"**ุงูุฑุงุชุจ:** {emp['salary']} ุฏููุงุฑ")
            
            # ุฅุญุตุงุฆูุงุช ุงูููุธููู
            st.markdown("### ๐ ุฅุญุตุงุฆูุงุช ุงูููุธููู")
            col1, col2, col3, col4 = st.columns(4)
            
            with col1:
                st.metric("ุฅุฌูุงูู ุงูููุธููู", "47")
                st.metric("ููุธููู ูุดุทูู", "45")
            with col2:
                st.metric("ูุนุฏู ุงูุฏูุฑุงู", "4.2%")
                st.metric("ูุชูุณุท ุงูุฑุงุชุจ", "520 ุฏููุงุฑ")
            with col3:
                st.metric("ุฃุนูู ุฑุงุชุจ", "1,200 ุฏููุงุฑ")
                st.metric("ุฃูู ุฑุงุชุจ", "350 ุฏููุงุฑ")
            with col4:
                st.metric("ูุชูุณุท ุงูุฎุจุฑุฉ", "3.5 ุณููุงุช")
                st.metric("ุงูุชูููุฉ ุงูุดูุฑูุฉ", "24,450 ุฏููุงุฑ")
        
        with hr_tools[1]:
            st.markdown("### ๐ ูุธุงู ุชูููู ุงูุฃุฏุงุก")
            
            evaluation_types = {
                "๐ ุงูุชูููู ุงูุฏูุฑู": {
                    "description": "ุชูููู ุฑุจุน ุณููู ุฃู ูุตู ุณููู ููุฃุฏุงุก",
                    "criteria": ["ุงูุฅูุชุงุฌูุฉ", "ุงูุฌูุฏุฉ", "ุงูุชุนุงูู", "ุงููุจุงุฏุฑุฉ", "ุงูุงูุชุฒุงู"],
                    "weight": [30, 25, 20, 15, 10]
                },
                "๐ฏ ุชูููู ููุงูุฉ ุงูุชุฌุฑุจุฉ": {
                    "description": "ุชูููู ุงูููุธููู ุงูุฌุฏุฏ ุจุนุฏ ูุชุฑุฉ ุงูุชุฌุฑุจุฉ",
                    "criteria": ["ุงูุชููู", "ุงูุชุนูู", "ุงูุฃุฏุงุก", "ุงูุงูุชุฒุงู", "ุงูุงุชุตุงู"],
                    "weight": [25, 25, 30, 10, 10]
                }
            }
            
            selected_evaluation = st.selectbox("ุงุฎุชุฑ ููุน ุงูุชูููู", list(evaluation_types.keys()))
            
            if selected_evaluation:
                eval_info = evaluation_types[selected_evaluation]
                
                st.write(f"**ุงููุตู:** {eval_info['description']}")
                
                # ูููุฐุฌ ุงูุชูููู
                st.markdown("#### ๐ ูููุฐุฌ ุงูุชูููู")
                
                employee_for_eval = st.selectbox("ุงุฎุชุฑ ุงูููุธู ููุชูููู", ["ุฃุญูุฏ ูุญูุฏ", "ูุงุทูุฉ ุฎุงูุฏ", "ูุญูุฏ ุนูู", "ุณุงุฑุฉ ุฃุญูุฏ"])
                
                scores = {}
                total_score = 0
                for i, (criterion, weight) in enumerate(zip(eval_info['criteria'], eval_info['weight'])):
                    score = st.slider(f"{criterion} ({weight}%)", 1, 10, 7, key=f"score_{criterion}")
                    scores[criterion] = score
                    total_score += score * (weight / 100)
                
                overall_feedback = st.text_area("ููุงุญุธุงุช ุนุงูุฉ ูุชูุตูุงุช ุงูุชุทููุฑ")
                
                if st.button("๐พ ุญูุธ ุงูุชูููู", key="save_evaluation"):
                    st.success(f"""
                    ## ๐ ูุชุงุฆุฌ ุงูุชูููู
                    
                    **ุงูููุธู:** {employee_for_eval}
                    **ุงููุนุฏู ุงูุนุงู:** {total_score:.1f}/10
                    **ุงูุชูููู:** {'ููุชุงุฒ' if total_score >= 9 else 'ุฌูุฏ ุฌุฏุงู' if total_score >= 7 else 'ุฌูุฏ' if total_score >= 5 else 'ูุญุชุงุฌ ุชุญุณูู'}
                    
                    **ุงูุชูุตูุงุช:**
                    - ูุชุงุจุนุฉ ุงูููุงุท ุงููููุฉ
                    - ุชุทููุฑ ุงูููุงุท ุงูุชู ุชุญุชุงุฌ ุชุญุณูู
                    - ูุถุน ุฎุทุฉ ุชุทููุฑ ูุฑุฏูุฉ
                    - ูุชุงุจุนุฉ ุงูุชูููุฐ ุฎูุงู 3 ุฃุดูุฑ
                    """)
        
        with hr_tools[2]:
            st.markdown("### ๐ฏ ุจุฑุงูุฌ ุงูุชุทููุฑ ูุงูุชุฏุฑูุจ")
            
            training_programs = {
                "๐ ุงูุชุฏุฑูุจ ุนูู ูุงููู ุงูุนูู": {
                    "audience": "ุฌููุน ุงููุฏูุฑูู ููุณุคููู ุงูููุงุฑุฏ ุงูุจุดุฑูุฉ",
                    "duration": "3 ุฃูุงู",
                    "topics": ["ุงูุนููุฏ", "ุงูุฅุฌุงุฒุงุช", "ููุงูุฉ ุงูุฎุฏูุฉ", "ุงููุฒุงุนุงุช", "ุงูุงูุชุฒุงูุงุช"],
                    "cost": "300 ุฏููุงุฑ ูููุดุงุฑู",
                    "benefits": ["ุชูููู ุงููุฎุงุทุฑ", "ุชุญุณูู ุงูุงูุชุซุงู", "ุฑูุน ุงูููุงุกุฉ"]
                },
                "๐ผ ููุงุฑุงุช ุฅุฏุงุฑุฉ ุงููุฑูู": {
                    "audience": "ุงููุฏูุฑูู ูุงููุดุฑููู",
                    "duration": "2 ููู", 
                    "topics": ["ุงูุชูุงุตู", "ุชุญููุฒ ุงููุฑูู", "ุญู ุงููุฒุงุนุงุช", "ุชูููู ุงูุฃุฏุงุก", "ุงูููุงุฏุฉ"],
                    "cost": "250 ุฏููุงุฑ ูููุดุงุฑู",
                    "benefits": ["ุชุญุณูู ุงูุฅูุชุงุฌูุฉ", "ุฑูุน ุงูุฑูุญ ุงููุนูููุฉ", "ุชูููู ุงูุฏูุฑุงู"]
                }
            }
            
            for program, details in training_programs.items():
                with st.expander(f"{program}"):
                    st.write(f"**ุงููุฆุฉ ุงููุณุชูุฏูุฉ:** {details['audience']}")
                    st.write(f"**ุงููุฏุฉ:** {details['duration']}")
                    st.write(f"**ุงูุชูููุฉ:** {details['cost']}")
                    
                    st.write("**ุงููุญุงูุฑ ุงูุฑุฆูุณูุฉ:**")
                    for topic in details['topics']:
                        st.write(f"โข {topic}")
                    
                    st.write("**ุงูููุงุฆุฏ ุงููุชููุนุฉ:**")
                    for benefit in details['benefits']:
                        st.write(f"โ {benefit}")
                    
                    # ุงูุชุณุฌูู ูู ุงูุจุฑูุงูุฌ
                    participants = st.number_input(f"ุนุฏุฏ ุงููุดุงุฑููู ูู {program}", min_value=0, value=0, key=f"participants_{program}")
                    if st.button(f"๐ ุชุณุฌูู ูู {program}", key=f"register_{program}"):
                        total_cost = participants * int(details['cost'].split()[0])
                        st.success(f"ุชู ุชุณุฌูู {participants} ูุดุงุฑู ูู {program} - ุงูุชูููุฉ ุงูุฅุฌูุงููุฉ: {total_cost} ุฏููุงุฑ")
        
        with hr_tools[3]:
            st.markdown("### ๐ ุชูุงุฑูุฑ ุงูููุงุฑุฏ ุงูุจุดุฑูุฉ ุงูุดุงููุฉ")
            
            report_types = st.selectbox("ุงุฎุชุฑ ููุน ุงูุชูุฑูุฑ", [
                "ุชูุฑูุฑ ุงูุฑูุงุชุจ ูุงููุณุชุญูุงุช",
                "ุชูุฑูุฑ ุงูุฅุฌุงุฒุงุช ูุงูุบูุงุจ", 
                "ุชูุฑูุฑ ุงูุฃุฏุงุก ูุงูุชููููุงุช",
                "ุชูุฑูุฑ ุงูุชุฏุฑูุจ ูุงูุชุทููุฑ",
                "ุชูุฑูุฑ ุชุญููู ุงูููู ุงูุนุงููุฉ",
                "ุชูุฑูุฑ ุงูุชูุงููู ูุงูููุฒุงููุฉ"
            ])
            
            report_period = st.selectbox("ุงููุชุฑุฉ", [
                "ูุฐุง ุงูุดูุฑ", "ุงูุฑุจุน ุงูุญุงูู", "ูุฐุง ุงูุนุงู", "ูุฎุตุต"
            ])
            
            if st.button("๐ ุฅูุดุงุก ุงูุชูุฑูุฑ", key="generate_hr_report"):
                # ูุญุงูุงุฉ ุฅูุดุงุก ุงูุชูุฑูุฑ
                st.success(f"## ๐ ุชูุฑูุฑ {report_types} - {report_period}")
                
                # ุจูุงูุงุช ูููุฐุฌูุฉ
                hr_data = {
                    "ุฅุฌูุงูู ุงูููุธููู": "47",
                    "ุงูุฑูุงุชุจ ุงูุดูุฑูุฉ": "24,500 ุฏููุงุฑ",
                    "ูุชูุณุท ุงูุฑุงุชุจ": "521 ุฏููุงุฑ",
                    "ุงูุฅุฌุงุฒุงุช ุงููุณุชุฎุฏูุฉ": "85%",
                    "ูุนุฏู ุงูุบูุงุจ": "2.3%",
                    "ุงูุชุฏุฑูุจ ุงูููุชูู": "78%",
                    "ูุนุฏู ุงูุฏูุฑุงู": "4.2%",
                    "ุชูููุฉ ุงูุชูุธูู": "15,000 ุฏููุงุฑ"
                }
                
                col1, col2 = st.columns(2)
                
                with col1:
                    for key, value in list(hr_data.items())[:4]:
                        st.metric(key, value)
                
                with col2:
                    for key, value in list(hr_data.items())[4:]:
                        st.metric(key, value)
                
                # ุชุญููู ุงูุชูุฑูุฑ
                report_content = f"""
                ุชูุฑูุฑ ุงูููุงุฑุฏ ุงูุจุดุฑูุฉ
                ุงูุชุงุฑูุฎ: {datetime.now().strftime('%Y-%m-%d')}
                ุงููุชุฑุฉ: {report_period}
                ููุน ุงูุชูุฑูุฑ: {report_types}
                
                ุงููุชุงุฆุฌ:
                {chr(10).join([f'{k}: {v}' for k, v in hr_data.items()])}
                
                ุงูุชูุตูุงุช:
                - ุชุญุณูู ูุนุฏูุงุช ุงูุงุญุชูุงุธ ุจุงูููุธููู
                - ุชุทููุฑ ุจุฑุงูุฌ ุงูุชุฏุฑูุจ ุงููุณุชูุฑ
                - ูุฑุงุฌุนุฉ ูููู ุงูุฑูุงุชุจ ูุงููุฒุงูุง
                - ุชุญุณูู ุฅุฏุงุฑุฉ ุงูุฅุฌุงุฒุงุช ูุงูุบูุงุจ
                """
                
                st.download_button(
                    label="๐ฅ ุญูู ุงูุชูุฑูุฑ ุงููุงูู",
                    data=report_content,
                    file_name=f"ุชูุฑูุฑ_ููุงุฑุฏ_ุจุดุฑูุฉ_{datetime.now().strftime('%Y%m%d')}.txt",
                    mime="text/plain"
                )
    
    with employer_tabs[6]:
        st.markdown("### ๐ ุงูููุงุฏ ุงููุงููููุฉ ุงูุฎุงุตุฉ ุจุฃุตุญุงุจ ุงูุนูู")
        
        # ุงูุจุญุซ ูู ุงูููุงุฏ ุงููุงููููุฉ
        employer_law_search = st.text_input("๐ ุงุจุญุซ ูู ุงูููุงุฏ ุงููุงููููุฉ", placeholder="ุงุฏุฎู ูููุฉ ููุชุงุญูุฉ...", key="employer_search")
        
        # ุงูููุงุฏ ุงููุงููููุฉ ุงูุฎุงุตุฉ ุจุฃุตุญุงุจ ุงูุนูู
        employer_laws = {
            "๐ ุงูุงูุชุฒุงูุงุช ุงูุชุนุงูุฏูุฉ": {
                "articles": [
                    {"number": "ุงููุงุฏุฉ 13", "title": "ูุฌูุจ ูุชุงุจุฉ ุงูุนูุฏ", "content": "ูุฌุจ ุนูู ุตุงุญุจ ุงูุนูู ุฅุจุฑุงู ุนูุฏ ุนูู ููุชูุจ ููู ุนุงูู."},
                    {"number": "ุงููุงุฏุฉ 16", "title": "ุชุนุฏูู ุดุฑูุท ุงูุนูุฏ", "content": "ูุง ูุฌูุฒ ุชุนุฏูู ุดุฑูุท ุงูุนูุฏ ุฅูุง ุจุงุชูุงู ุงูุทุฑููู."},
                    {"number": "ุงููุงุฏุฉ 27", "title": "ุงูููุงุฆุญ ุงูุฏุงุฎููุฉ", "content": "ูุตุงุญุจ ุงูุนูู ูุถุน ููุงุฆุญ ุชูุธูู ุงูุนูู ุจุนุฏ ููุงููุฉ ุงููุฒุงุฑุฉ."}
                ]
            },
            "๐ฐ ุงูุงูุชุฒุงูุงุช ุงููุงููุฉ": {
                "articles": [
                    {"number": "ุงููุงุฏุฉ 35", "title": "ุงูุญุฏ ุงูุฃุฏูู ููุฃุฌูุฑ", "content": "ูุฌุจ ุนูู ุตุงุญุจ ุงูุนูู ุงูุงูุชุฒุงู ุจุงูุญุฏ ุงูุฃุฏูู ููุฃุฌูุฑ."},
                    {"number": "ุงููุงุฏุฉ 55", "title": "ููุนุฏ ุตุฑู ุงูุฃุฌุฑ", "content": "ูุฌุจ ุตุฑู ุงูุฃุฌุฑ ุฎูุงู ุณุจุนุฉ ุฃูุงู ูู ุงูุชูุงุก ุงูุดูุฑ."},
                    {"number": "ุงููุงุฏุฉ 39", "title": "ุญุฏูุฏ ุงูุฎุตู", "content": "ูุง ูุฌูุฒ ุฎุตู ุฃูุซุฑ ูู 10% ูู ุฃุฌุฑ ุงูุนุงูู."}
                ]
            },
            "โ๏ธ ุฅููุงุก ุงูุฎุฏูุฉ": {
                "articles": [
                    {"number": "ุงููุงุฏุฉ 28", "title": "ุงูุฅุฎุทุงุฑ ุจุฅููุงุก ุงูุนูุฏ", "content": "ูุฌุจ ุฅุฎุทุงุฑ ุงูุนุงูู ูุจู ุฅููุงุก ุฎุฏูุชู."},
                    {"number": "ุงููุงุฏุฉ 29", "title": "ุงููุตู ุงูุชุนุณูู", "content": "ูุญุธุฑ ุงููุตู ุงูุชุนุณูู ููุนูุถ ุงูุนุงูู ุนูู."},
                    {"number": "ุงููุงุฏุฉ 77", "title": "ุตุฑู ุงููุณุชุญูุงุช", "content": "ุชุตุฑู ูุณุชุญูุงุช ุงูุนุงูู ุฎูุงู ุณุจุนุฉ ุฃูุงู ูู ุงูุชูุงุก ุงูุฎุฏูุฉ."}
                ]
            },
            "๐ญ ุงูุณูุงูุฉ ุงูููููุฉ": {
                "articles": [
                    {"number": "ุงููุงุฏุฉ 79", "title": "ุชูููุฑ ูุณุงุฆู ุงูุณูุงูุฉ", "content": "ูุฌุจ ุนูู ุตุงุญุจ ุงูุนูู ุชูููุฑ ูุณุงุฆู ุงูููุงูุฉ ูุงูุณูุงูุฉ."},
                    {"number": "ุงููุงุฏุฉ 80", "title": "ุชุฏุฑูุจ ุงูุนุงูููู", "content": "ูุฌุจ ุชุฏุฑูุจ ุงูุนุงูููู ุนูู ุฅุฌุฑุงุกุงุช ุงูุณูุงูุฉ."},
                    {"number": "ุงููุงุฏุฉ 83", "title": "ุงูุฅุจูุงุบ ุนู ุงูุญูุงุฏุซ", "content": "ูุฌุจ ุงูุฅุจูุงุบ ุนู ุญูุงุฏุซ ุงูุนูู ุฎูุงู 24 ุณุงุนุฉ."}
                ]
            }
        }
        
        for category, laws in employer_laws.items():
            with st.expander(f"{category}"):
                for article in laws["articles"]:
                    # ููุชุฑุฉ ุญุณุจ ุงูุจุญุซ
                    if not employer_law_search or employer_law_search.lower() in article["content"].lower():
                        with st.expander(f"{article['number']}: {article['title']}"):
                            st.markdown(f"""
                            <div class="law-article">
                            <h4>{article['number']}: {article['title']}</h4>
                            <p>{article['content']}</p>
                            </div>
                            """, unsafe_allow_html=True)
                            
                            # ุชูุณูุฑ ูููุงุฏุฉ ูู ูุฌูุฉ ูุธุฑ ุตุงุญุจ ุงูุนูู
                            interpretation = interpret_article_for_employer(article)
                            st.info(f"**ุชูุณูุฑ ูููุงุฏุฉ:** {interpretation}")

# =====================================================
# ๐ฌ ูุณู ุงูุจุงุญุซูู ุงูููุณุน ุงูุดุงูู
# =====================================================
def show_researchers_section():
    st.markdown("### ๐ฌ ูุณู ุงูุจุงุญุซูู - ุงูููุตุฉ ุงูุดุงููุฉ ูุจุญูุซ ูุงููู ุงูุนูู ุงูุฃุฑุฏูู")
    
    researcher_tabs = st.tabs([
        "๐ ุงููุธุฑุฉ ุงูุนุงูุฉ", 
        "๐ ุงูุชุดุฑูุนุงุช ุงูุฃุณุงุณูุฉ", 
        "โ๏ธ ุงูุณูุงุจู ุงููุถุงุฆูุฉ",
        "๐ ุงูุฏุฑุงุณุงุช ูุงูุฃุจุญุงุซ",
        "๐ ุงูุจุญุซ ุงููุชูุฏู",
        "๐๏ธ ุฃุฏูุงุช ุงูุจุงุญุซ",
        "๐ ุงููุฑุงุฌุน ูุงููุตุงุฏุฑ",
        "๐ ุงูููุงุฑูุงุช ุงูุฏูููุฉ",
        "๐ ุงูุชุญูููุงุช ุงูุฅุญุตุงุฆูุฉ",
        "๐ฅ ุงููุฌุชูุน ุงูุจุญุซู"
    ])
    
    with researcher_tabs[0]:
        st.markdown("### ๐ ุงููุธุฑุฉ ุงูุดุงููุฉ ูุงูุชุญููููุฉ ููุงููู ุงูุนูู ุงูุฃุฑุฏูู")
        
        # ููุฏูุฉ ุชุญููููุฉ
        col1, col2 = st.columns(2)
        
        with col1:
            st.markdown("""
            <div class="research-tool">
            <h3>๐ฏ ุงูุฃูุฏุงู ุงูุจุญุซูุฉ</h3>
            <p>ููุฏู ูุฐุง ุงููุณู ุฅูู ุชูููุฑ ููุตุฉ ุดุงููุฉ ููุจุงุญุซูู ูู ูุงููู ุงูุนูู:</p>
            <ul>
            <li>๐ <strong>ุชุญููู ุชุทูุฑ ุงูุชุดุฑูุน</strong> ุงูุนูุงูู ูู ุงูุฃุฑุฏู</li>
            <li>๐ <strong>ุฏุฑุงุณุฉ ุงูุฃุซุฑ ุงูุงูุชุตุงุฏู</strong> ูุงูุงุฌุชูุงุนู ููููุงููู</li>
            <li>๐ <strong>ููุงุฑูุฉ ุงูุชุดุฑูุน ุงูุฃุฑุฏูู</strong> ูุน ุงูููุงุฐุฌ ุงูุฏูููุฉ</li>
            <li>โ๏ธ <strong>ุฑุตุฏ ุงุชุฌุงูุงุช ุงููุถุงุก</strong> ุงูุนูุงูู</li>
            <li>๐ <strong>ุชูููู ูุนุงููุฉ</strong> ุงูุณูุงุณุงุช ุงูุชุดุฑูุนูุฉ</li>
            </ul>
            </div>
            """, unsafe_allow_html=True)
            
            st.info("""
            ### ๐ ุงููููุฌูุงุช ุงูุจุญุซูุฉ
            - **ุงูุชุญููู ุงููุตู** ููุชุดุฑูุนุงุช
            - **ุงูุฏุฑุงุณุฉ ุงูููุฏุงููุฉ** ูุงูุชุทุจูููุฉ
            - **ุงููููุฌ ุงูููุงุฑู** ูุน ุงูุชุดุฑูุนุงุช ุงูุนุฑุจูุฉ ูุงูุฏูููุฉ
            - **ุงูุชุญููู ุงูุฅุญุตุงุฆู** ููุจูุงูุงุช ุงููุถุงุฆูุฉ
            - **ุฏุฑุงุณุฉ ุงูุญุงูุฉ** ููููุงุฒุนุงุช ุงูุนูุงููุฉ
            """)
        
        with col2:
            st.warning("""
            ### โ๏ธ ุงูุฅุทุงุฑ ุงููุธุฑู
            - **ูุธุฑูุฉ ุงูุนูุฏ** ูู ุงูุนูุงูุงุช ุงูุนูุงููุฉ
            - **ูุจุฏุฃ ุงูุญูุงูุฉ** ููุทุฑู ุงูุถุนูู
            - **ุงูุนุฏุงูุฉ ุงูุงุฌุชูุงุนูุฉ** ูู ุงูุชุดุบูู
            - **ุงูููุงุฒูุฉ** ุจูู ูุตุงูุญ ุงูุฃุทุฑุงู
            - **ุงูุชูููุฉ ุงููุณุชุฏุงูุฉ** ูุณูู ุงูุนูู
            """)
            
            st.error("""
            ### ๐ ุงููุฌุงูุงุช ุงูุจุญุซูุฉ
            - **ุชุดุฑูุนุงุช ุงูุฃุฌูุฑ** ูุงูุถูุงู ุงูุงุฌุชูุงุนู
            - **ุญูุงูุฉ ุงููุฆุงุช** ุงูุฎุงุตุฉ (ุงููุณุงุกุ ุงูุฃุญุฏุงุซ)
            - **ุงูุณูุงูุฉ ุงูููููุฉ** ูุงูุตุญุฉ ุงูุนุงูุฉ
            - **ุชุณููุฉ ุงูููุงุฒุนุงุช** ูุงููุณุงุทุฉ
            - **ุงูุนูู ุงูููุงุจู** ูุงูุญุฑูุงุช ุงูููุงุจูุฉ
            """)
        
        # ุงูุฅุญุตุงุฆูุงุช ุงูุชุดุฑูุนูุฉ ุงูุชูุตูููุฉ
        st.markdown("### ๐ ุงููุคุดุฑุงุช ุงูุชุดุฑูุนูุฉ ูุงูุจุญุซูุฉ")
        
        col1, col2, col3, col4 = st.columns(4)
        
        with col1:
            st.metric("๐ ุงูููุงุฏ ุงููุงููููุฉ", "148 ูุงุฏุฉ", "+12 ุชุนุฏูู")
            st.metric("โ๏ธ ุงูุณูุงุจู ุงููุถุงุฆูุฉ", "2,340 ุญูู", "+150 ุณูููุงู")
        
        with col2:
            st.metric("๐ ุงูุฃูุธูุฉ ูุงูุชุนูููุงุช", "45 ูุธุงู", "5 ุฃูุธูุฉ ุฌุฏูุฏุฉ")
            st.metric("๐ ุงูุฏุฑุงุณุงุช ุงูุจุญุซูุฉ", "120 ุฏุฑุงุณุฉ", "15 ุฏุฑุงุณุฉ ุณูููุงู")
        
        with col3:
            st.metric("๐ ุงูุงุชูุงููุงุช ุงูุฏูููุฉ", "18 ุงุชูุงููุฉ", "5 ูุตุงุฏูุงุช ุฌุฏูุฏุฉ")
            st.metric("๐ ูุนุฏู ุงูุชุนุฏูู ุงูุชุดุฑูุนู", "2.3 ุณูุฉ", "ูู 2.3 ุณูุฉ")
        
        with col4:
            st.metric("โก ุณุฑุนุฉ ุงูุชูุงุถู", "8.5 ุดูุฑ", "ุชุญุณู 15%")
            st.metric("๐ฐ ุชูููุฉ ุงูููุงุฒุนุงุช", "45M ุฏููุงุฑ", "ุณูููุงู")
        
        # ุงูุฎุงุฑุทุฉ ุงูุชุดุฑูุนูุฉ ุงูุชูุงุนููุฉ
        st.markdown("### ๐บ๏ธ ุงูุฎุงุฑุทุฉ ุงูุชุดุฑูุนูุฉ ุงูุชูุงุนููุฉ")
        
        legislative_map = {
            "1996-2000": {"event": "ุฅุตุฏุงุฑ ุงููุงููู ุงูุฃุณุงุณู", "impact": "ุชุฃุณูุณ ุงููุธุงู ุงููุงูููู"},
            "2001-2005": {"event": "ุชุนุฏููุงุช ุงูุฃุฌูุฑ ูุงูุฅุฌุงุฒุงุช", "impact": "ุชุญุณูู ูุณุชููุงุช ุงููุนูุดุฉ"},
            "2006-2010": {"event": "ุชุนุฒูุฒ ุญูุงูุฉ ุงููุณุงุก ูุงูุฃุญุฏุงุซ", "impact": "ุฒูุงุฏุฉ ูุดุงุฑูุฉ ุงููุฑุฃุฉ"},
            "2011-2015": {"event": "ุฅุตูุงุญุงุช ุณูู ุงูุนูู", "impact": "ุฎูุถ ูุนุฏู ุงูุจุทุงูุฉ"},
            "2016-2020": {"event": "ุงูุชุญูู ุงูุฑููู ูู ุงูุนูู", "impact": "ุชููู ูุน ุงููุชุบูุฑุงุช"},
            "2021-2024": {"event": "ุงูุชุนุฏููุงุช ุงูุดุงููุฉ", "impact": "ููุงูุจุฉ ุงููุณุชุฌุฏุงุช"}
        }
        
        for period, info in legislative_map.items():
            with st.expander(f"๐ {period}: {info['event']}"):
                col1, col2 = st.columns(2)
                with col1:
                    st.write(f"**ุงูุญุฏุซ ุงูุชุดุฑูุนู:** {info['event']}")
                with col2:
                    st.write(f"**ุงูุฃุซุฑ:** {info['impact']}")
                
                # ุชุญููู ููุตู ููู ูุชุฑุฉ
                analysis = analyze_legislative_period(period)
                st.write(f"**ุงูุชุญููู:** {analysis}")
    
    with researcher_tabs[1]:
        st.markdown("### ๐ ุงูููุณูุนุฉ ุงูุชุดุฑูุนูุฉ ุงูุดุงููุฉ")
        
        # ุงูุจุญุซ ุงูุณุฑูุน ูู ุงูุชุดุฑูุนุงุช
        st.markdown("#### ๐ ุงูุจุญุซ ุงูุณุฑูุน ูู ุงููุตูุต ุงูุชุดุฑูุนูุฉ")
        
        quick_search = st.text_input("ุงุจุญุซ ูู ุงููุตูุต ุงูุชุดุฑูุนูุฉ", placeholder="ุงุฏุฎู ูุตุทูุญุงู ูุงููููุงู...", key="researcher_search")
        if quick_search:
            st.info(f"ูุชุงุฆุฌ ุงูุจุญุซ ุนู: '{quick_search}'")
            # ูุญุงูุงุฉ ูุชุงุฆุฌ ุงูุจุญุซ
            search_results = [
                f"ุงููุงุฏุฉ 55: {quick_search} ูู ููุงุนูุฏ ุตุฑู ุงูุฃุฌูุฑ",
                f"ุงููุงุฏุฉ 74: {quick_search} ูู ููุงูุฃุฉ ููุงูุฉ ุงูุฎุฏูุฉ",
                f"ูุธุงู ุงูุฃุฌูุฑ: {quick_search} ูู ุงูุญุฏ ุงูุฃุฏูู ููุฃุฌูุฑ"
            ]
            for result in search_results:
                st.write(f"โข {result}")
        
        # ุงูุชุตููู ุงูุชูุตููู ููุชุดุฑูุนุงุช
        legislation_categories = {
            "๐ ุงููุงููู ุงูุฃุณุงุณู ูุชุนุฏููุงุชู": {
                "description": "ุงููุงููู ุฑูู 8 ูุณูุฉ 1996 ูุชุนุฏููุงุชู ุงููุงุญูุฉ",
                "sections": [
                    {
                        "title": "๐ ุงูุจุงุจ ุงูุฃูู: ุงูุฃุญูุงู ุงูุนุงูุฉ ูุงูุชุนุฑููุงุช",
                        "articles": "1-12",
                        "content": {
                            "ุงููุงุฏุฉ 1": "ุชุนุฑููุงุช ุงูุนุงูู ูุตุงุญุจ ุงูุนูู ูุนูุฏ ุงูุนูู",
                            "ุงููุงุฏุฉ 2": "ูุทุงู ุณุฑูุงู ุงููุงููู ูุงุณุชุซูุงุกุงุชู",
                            "ุงููุงุฏุฉ 3": "ูุจุฏุฃ ุงููุณุงูุงุฉ ูุนุฏู ุงูุชูููุฒ",
                            "ุงููุงุฏุฉ 4": "ุงูุฃุนุฑุงู ูุงูููุงุฑุณุงุช ุงูุนูููุฉ",
                            "ุงููุงุฏุฉ 5": "ุชุทุจูู ูุจุฏุฃ ุงูุฃูุถููุฉ ููุนุงูู",
                            "ุงููุงุฏุฉ 6": "ุงูุงูุชุฒุงู ุจูุจุงุฏุฆ ุงูุนุฏุงูุฉ ุงูุงุฌุชูุงุนูุฉ"
                        }
                    }
                ]
            }
        }
        
        for category, info in legislation_categories.items():
            with st.expander(f"{category} - {info['description']}"):
                for section in info['sections']:
                    with st.expander(f"๐ {section['title']} (ุงูููุงุฏ {section['articles']})"):
                        for article, content in section['content'].items():
                            with st.expander(f"๐ {article}"):
                                st.write(content)
                                
                                # ุฃุฏูุงุช ุงูุชุญููู ููู ูุงุฏุฉ
                                col1, col2, col3 = st.columns(3)
                                with col1:
                                    if st.button("๐ ุงูุชุญููู ุงููุตู", key=f"text_analysis_{article}"):
                                        analysis = analyze_legal_article(content)
                                        st.info(analysis)
                                with col2:
                                    if st.button("โ๏ธ ุงูุชุทุจููุงุช ุงููุถุงุฆูุฉ", key=f"jurisprudence_{article}"):
                                        st.success("ุฌุงุฑู ุงูุจุญุซ ุนู ุงูุชุทุจููุงุช ุงููุถุงุฆูุฉ...")
                                with col3:
                                    if st.button("๐ ุงูุดุฑูุญุงุช ุงูููููุฉ", key=f"doctrine_{article}"):
                                        st.warning("ุฌุงุฑู ุชุญููู ุงูุดุฑูุญุงุช ุงูููููุฉ...")
    
    with researcher_tabs[2]:
        st.markdown("### โ๏ธ ุงูููุณูุนุฉ ุงููุถุงุฆูุฉ ุงูุดุงููุฉ")
        
        # ุฅุญุตุงุฆูุงุช ุงููุถุงุก ุงูุนูุงูู
        st.markdown("#### ๐ ุฅุญุตุงุฆูุงุช ุงููุถุงุก ุงูุนูุงูู")
        
        col1, col2, col3, col4 = st.columns(4)
        
        with col1:
            st.metric("ุฅุฌูุงูู ุงููุถุงูุง", "12,450")
            st.metric("ูุถุงูุง ุงูุฃุฌูุฑ", "5,234 (42%)")
        
        with col2:
            st.metric("ูุถุงูุง ุงููุตู", "3,567 (29%)")
            st.metric("ูุถุงูุง ุงูุฅุฌุงุฒุงุช", "1,890 (15%)")
        
        with col3:
            st.metric("ูุนุฏู ุงูุญู ุงููุฏู", "65%")
            st.metric("ูุฏุฉ ุงูุชูุงุถู", "8.5 ุดูุฑ")
        
        with col4:
            st.metric("ูุถุงูุง ูุญููุฉ ุงูุชูููุฒ", "1,200")
            st.metric("ูุณุจุฉ ุงููุฌุงุญ", "58%")
        
        # ุงูุชุตููู ุงููุชูุฏู ููุณูุงุจู
        jurisprudence_categories = {
            "๐ ุงูุชูุณูุฑ ุงููุถุงุฆู ูููุตูุต": {
                "description": "ุงุฌุชูุงุฏุงุช ุงููุญุงูู ูู ุชูุณูุฑ ุงููุตูุต ุงูุบุงูุถุฉ ุฃู ุงูุนุงูุฉ",
                "cases": [
                    {
                        "title": "ุชูููุฒ ุนูู ุฑูู 120/2020 - ุชูุณูุฑ ุนูุฏ ุงูุนูู ุบูุฑ ูุญุฏุฏ ุงููุฏุฉ",
                        "court": "ูุญููุฉ ุงูุชูููุฒ - ุงูุฏุงุฆุฑุฉ ุงูุนูุงููุฉ",
                        "date": "2020/06/15",
                        "summary": "ุชูุณูุฑ ููููู ุงูุนูุฏ ุบูุฑ ูุญุฏุฏ ุงููุฏุฉ ูุขุซุงุฑู ุงููุงููููุฉ",
                        "principle": "ุงูุนูุฏ ุบูุฑ ุงููุญุฏุฏ ุงููุฏุฉ ูุณุชูุฑ ูุง ุฏุงูุช ุนูุงูุฉ ุงูุนูู ูุงุฆูุฉ ููุชุทูุจ ุณุจุจุงู ูุดุฑูุนุงู ููุฅููุงุก",
                        "analysis": "ุงููุญููุฉ ูุณุนุช ููููู ุงูุงุณุชูุฑุงุฑ ุงููุธููู ูุฃูุฏุช ุนูู ุญูุงูุฉ ุงูุนุงูู ูู ุงููุตู ุงูุชุนุณูู",
                        "impact": "ุฃุตุจุญ ูุฐุง ุงูุญูู ูุฑุฌุนุงู ุฃุณุงุณูุงู ูู ูุถุงูุง ุฅููุงุก ุนููุฏ ุงูุนูู",
                        "references": ["ูุงููู ุงูุนูู ุงููุงุฏุฉ 14", "ุชูููุฒ ุนูู 85/2018", "ุชูููุฒ ุนูู 200/2019"]
                    }
                ]
            }
        }
        
        for category, info in jurisprudence_categories.items():
            with st.expander(f"{category} - {info['description']}"):
                for case in info['cases']:
                    with st.expander(f"โ๏ธ {case['title']}"):
                        col1, col2 = st.columns(2)
                        
                        with col1:
                            st.write(f"**ุงููุญููุฉ:** {case['court']}")
                            st.write(f"**ุงูุชุงุฑูุฎ:** {case['date']}")
                            st.write(f"**ููุฎุต ุงููุถูุฉ:** {case['summary']}")
                            st.write(f"**ุงููุจุฏุฃ ุงููุงูููู:** {case['principle']}")
                        
                        with col2:
                            st.write(f"**ุงูุชุญููู:** {case['analysis']}")
                            st.write(f"**ุงูุฃุซุฑ:** {case['impact']}")
                            st.write(f"**ุงููุฑุงุฌุน:** {', '.join(case['references'])}")
    
    with researcher_tabs[3]:
        st.markdown("### ๐ ุงูููุตุฉ ุงูุจุญุซูุฉ ุงููุชูุงููุฉ")
        
        # ุชุตููู ูุชูุฏู ููุฏุฑุงุณุงุช
        research_categories = {
            "๐ ุงูุฏุฑุงุณุงุช ุงููููุฉ ูุงูุฅุญุตุงุฆูุฉ": {
                "description": "ุฏุฑุงุณุงุช ุชุนุชูุฏ ุนูู ุงูุชุญููู ุงูุฅุญุตุงุฆู ูุงูุจูุงูุงุช ุงูุฑูููุฉ",
                "studies": [
                    {
                        "title": "ุชุญููู ุฃุซุฑ ุชุนุฏููุงุช ูุงููู ุงูุนูู 2024 ุนูู ูุคุดุฑุงุช ุณูู ุงูุนูู",
                        "author": "ุฏ. ูุญูุฏ ุฃุญูุฏ - ูุฑูุฒ ุงูุฏุฑุงุณุงุช ุงูุงูุชุตุงุฏูุฉ",
                        "year": "2024",
                        "methodology": "ุชุญููู ุงูุญุฏุงุฑ ูุจูุงูุงุช 1000 ููุดุฃุฉ ุฎูุงู 5 ุณููุงุช",
                        "findings": "ุชุญุณู ูู ูุคุดุฑุงุช ุงูุงุณุชูุฑุงุฑ ุงููุธููู ุจูุณุจุฉ 18%ุ ุงูุฎูุงุถ ูู ูุนุฏู ุฏูุฑุงู ุงูุนูุงูุฉ ุจูุณุจุฉ 12%",
                        "data_sources": ["ูุณุญ ุงูููู ุงูุนุงููุฉ", "ุจูุงูุงุช ูุฒุงุฑุฉ ุงูุนูู", "ุชูุงุฑูุฑ ุงูููุดุขุช"],
                        "statistical_tools": ["SPSS", "Stata", "ุชุญููู ุงูุงูุญุฏุงุฑ ุงููุชุนุฏุฏ"],
                        "sample_size": "1000 ููุดุฃุฉุ 5000 ุนุงูู",
                        "confidence_level": "95%",
                        "limitations": "ุนุฏู ุดููู ุงููุทุงุน ุบูุฑ ุงูููุธูุ ุชุญูุฒ ูู ุงูุฅุจูุงุบ ุงูุฐุงุชู"
                    }
                ]
            }
        }
        
        for category, info in research_categories.items():
            with st.expander(f"{category} - {info['description']}"):
                for study in info['studies']:
                    with st.expander(f"๐ {study['title']}"):
                        col1, col2 = st.columns(2)
                        
                        with col1:
                            st.write(f"**ุงูุจุงุญุซ:** {study['author']}")
                            st.write(f"**ุณูุฉ ุงููุดุฑ:** {study['year']}")
                            st.write(f"**ุงููููุฌูุฉ:** {study['methodology']}")
                            st.write(f"**ูุตุงุฏุฑ ุงูุจูุงูุงุช:** {', '.join(study['data_sources'])}")
                        
                        with col2:
                            st.write(f"**ุงูุฃุฏูุงุช ุงูุฅุญุตุงุฆูุฉ:** {', '.join(study['statistical_tools'])}")
                            st.write(f"**ุญุฌู ุงูุนููุฉ:** {study['sample_size']}")
                            st.write(f"**ูุณุชูู ุงูุซูุฉ:** {study['confidence_level']}")
                            st.write(f"**ุงููุญุฏุฏุงุช:** {study['limitations']}")
                        
                        st.write(f"**ุงููุชุงุฆุฌ ุงูุฑุฆูุณูุฉ:** {study['findings']}")
    
    with researcher_tabs[4]:
        st.markdown("### ๐ ุงูููุตุฉ ุงููุชูุฏูุฉ ููุจุญุซ ุงูุนููู")
        
        # ุงูุจุญุซ ุงูุฏูุงูู ุงููุชูุฏู
        st.markdown("#### ๐ง ุงูุจุญุซ ุงูุฏูุงูู ูุงูููุงูููู")
        
        semantic_search = st.text_area(
            "ุงุฏุฎู ูููููู ุงูุจุญุซู ุฃู ูุฑุถูุชู",
            placeholder="ูุซุงู: ุฃุซุฑ ุงูุญุฏ ุงูุฃุฏูู ููุฃุฌูุฑ ุนูู ูุนุฏูุงุช ุงูููุฑ...",
            height=100
        )
        
        if st.button("๐งฉ ุจุญุซ ุฏูุงูู", key="semantic_search"):
            if semantic_search:
                # ูุญุงูุงุฉ ุงูุจุญุซ ุงูุฏูุงูู
                semantic_results = [
                    {
                        "concept": "ุงูุญุฏ ุงูุฃุฏูู ููุฃุฌูุฑ",
                        "related_studies": ["ุฏุฑุงุณุฉ ุงูุฃุซุฑ ุงูุงูุชุตุงุฏู 2023", "ุชุญููู ุงูููุฑ 2022"],
                        "legal_provisions": ["ุงููุงุฏุฉ 35", "ูุธุงู ุงูุฃุฌูุฑ 2020"],
                        "jurisprudence": ["ุชูููุฒ ุนูู 85/2019", "ุชูููุฒ ุนูู 150/2021"]
                    }
                ]
                
                st.success("## ๐ง ูุชุงุฆุฌ ุงูุจุญุซ ุงูุฏูุงูู")
                
                for result in semantic_results:
                    with st.expander(f"๐ ุงูููููู: {result['concept']}"):
                        st.write("**ุงูุฏุฑุงุณุงุช ุฐุงุช ุงูุตูุฉ:**")
                        for study in result['related_studies']:
                            st.write(f"โข {study}")
                        
                        st.write("**ุงููุตูุต ุงูุชุดุฑูุนูุฉ:**")
                        for provision in result['legal_provisions']:
                            st.write(f"โข {provision}")
                        
                        st.write("**ุงูุณูุงุจู ุงููุถุงุฆูุฉ:**")
                        for case in result['jurisprudence']:
                            st.write(f"โข {case}")
    
    with researcher_tabs[5]:
        st.markdown("### ๐๏ธ ูุฌููุนุฉ ุงูุฃุฏูุงุช ุงูุจุญุซูุฉ ุงููุชูุงููุฉ")
        
        tool_tabs = st.tabs([
            "๐ ุฃุฏุงุฉ ุงูุงูุชุจุงุณ", 
            "๐ ููุงุฑูุฉ ุงูุชุดุฑูุนุงุช", 
            "๐ ูุญูู ุงููุตูุต",
            "๐พ ุฅุฏุงุฑุฉ ุงูููุชุจุฉ"
        ])
        
        with tool_tabs[0]:
            st.markdown("### ๐ ุงูููุตุฉ ุงููุชูุงููุฉ ููุงูุชุจุงุณ ูุงูุชูุซูู")
            
            # ุฃูุธูุฉ ุงูุงูุชุจุงุณ ุงููุชุนุฏุฏุฉ
            citation_systems = {
                "APA": "ูุธุงู ุงูุฌูุนูุฉ ุงูุฃูุฑูููุฉ ูุนูู ุงูููุณ",
                "MLA": "ูุธุงู ุฌูุนูุฉ ุงููุบุงุช ุงูุญุฏูุซุฉ",
                "Chicago": "ูุธุงู ุดููุงุบู",
                "Harvard": "ูุธุงู ูุงุฑูุงุฑุฏ",
                "OSCOLA": "ูุธุงู ุฃูุณููุฑุฏ ููุงูุชุจุงุณ ุงููุงูููู"
            }
            
            selected_system = st.selectbox("ุงุฎุชุฑ ูุธุงู ุงูุงูุชุจุงุณ", list(citation_systems.keys()))
            st.info(f"ุงููุธุงู ุงููุฎุชุงุฑ: {citation_systems[selected_system]}")
            
            # ูููุฐุฌ ูุชูุฏู ูุฅุฏุฎุงู ุงูุจูุงูุงุช
            col1, col2 = st.columns(2)
            
            with col1:
                doc_category = st.selectbox("ููุน ุงููุตุฏุฑ", [
                    "ูุงููู ุฃู ุชุดุฑูุน",
                    "ุญูู ูุถุงุฆู", 
                    "ูุชุงุจ",
                    "ููุงู ูุฌูุฉ",
                    "ุฑุณุงูุฉ ุนูููุฉ",
                    "ุชูุฑูุฑ",
                    "ูููุน ุฅููุชุฑููู"
                ])
                
                authors = st.text_area("ุงููุคูููู/ุงูุฌูุงุช (ุณุทุฑ ููู ูุคูู)")
                title = st.text_input("ุงูุนููุงู ุงููุงูู")
                year = st.number_input("ุณูุฉ ุงููุดุฑ", min_value=1900, max_value=2024, value=2024)
            
            with col2:
                publisher = st.text_input("ุงููุงุดุฑ/ุงูุฌูุฉ ุงููุงุดุฑุฉ")
                place = st.text_input("ููุงู ุงููุดุฑ")
                url = st.text_input("ุฑุงุจุท ุงููุตุฏุฑ (ูููุตุงุฏุฑ ุงูุฅููุชุฑูููุฉ)")
                accessed_date = st.date_input("ุชุงุฑูุฎ ุงููุตูู (ูููุตุงุฏุฑ ุงูุฅููุชุฑูููุฉ)")
            
            if st.button("๐๏ธ ุชูููุฏ ุงูุงูุชุจุงุณ", key="generate_advanced_citation"):
                citation = generate_advanced_citation(
                    doc_category, authors, title, year, publisher, place,
                    url, accessed_date, selected_system
                )
                
                st.success("### ๐ ุงูุงูุชุจุงุณ ุงูุฌุงูุฒ")
                st.text_area("ุงูุงูุชุจุงุณ ุงูููุณู", citation, height=150)
    
    with researcher_tabs[6]:
        st.markdown("### ๐ ุงูููุณูุนุฉ ุงููุฑุฌุนูุฉ ุงูุดุงููุฉ")
        
        # ุงูููุฑุณ ุงูุชูุงุนูู ูููุฑุงุฌุน
        st.markdown("#### ๐ ุงูููุฑุณ ุงูุชูุงุนูู ูููุฑุงุฌุน")
        
        reference_categories = {
            "๐ ุงููุฑุงุฌุน ุงูุชุดุฑูุนูุฉ ุงูุฑุณููุฉ": {
                "description": "ุงููุตูุต ุงูุฑุณููุฉ ููููุงููู ูุงูุฃูุธูุฉ",
                "items": [
                    {
                        "title": "ูุฌููุนุฉ ุงูููุงููู ุงูุฃุฑุฏููุฉ - ูุฒุงุฑุฉ ุงูุนุฏู",
                        "type": "ุณูุณูุฉ ุชุดุฑูุนูุฉ",
                        "years": "1996-2024",
                        "access": "ูุชุงุญุฉ ูู ุงูููุชุจุฉ ุงููุทููุฉ",
                        "importance": "โญโญโญโญโญ"
                    }
                ]
            }
        }
        
        for category, info in reference_categories.items():
            with st.expander(f"{category} - {info['description']}"):
                for item in info['items']:
                    with st.expander(f"๐ {item['title']} ({item['importance']})"):
                        col1, col2 = st.columns(2)
                        with col1:
                            st.write(f"**ุงูููุน:** {item['type']}")
                            st.write(f"**ุงููุชุฑุฉ:** {item['years']}")
                        with col2:
                            st.write(f"**ุทุฑููุฉ ุงููุตูู:** {item['access']}")
                            st.write(f"**ุงูุฃูููุฉ:** {item['importance']}")
    
    with researcher_tabs[7]:
        st.markdown("### ๐ ุงูููุงุฑูุงุช ุงูุชุดุฑูุนูุฉ ุงูุฏูููุฉ")
        
        # ุฃุฏุงุฉ ุงูููุงุฑูุฉ ุงูุชูุงุนููุฉ
        st.markdown("#### ๐ ุฃุฏุงุฉ ุงูููุงุฑูุฉ ุงูุชุดุฑูุนูุฉ ุงูุฏูููุฉ ุงูุชูุงุนููุฉ")
        
        col1, col2, col3 = st.columns(3)
        
        with col1:
            country1 = st.selectbox("ุงูุฏููุฉ ุงูุฃููู", [
                "ุงูุฃุฑุฏู", "ูุตุฑ", "ุงูุณุนูุฏูุฉ", "ุงูุฅูุงุฑุงุช", "ุชุฑููุง", "ูุงููุฒูุง"
            ], key="country1")
        
        with col2:
            country2 = st.selectbox("ุงูุฏููุฉ ุงูุซุงููุฉ", [
                "ุงูุฃุฑุฏู", "ูุตุฑ", "ุงูุณุนูุฏูุฉ", "ุงูุฅูุงุฑุงุช", "ุชุฑููุง", "ูุงููุฒูุง" 
            ], key="country2")
        
        with col3:
            comparison_field = st.selectbox("ูุฌุงู ุงูููุงุฑูุฉ", [
                "ูุธุงู ุนููุฏ ุงูุนูู",
                "ุงูุญูุงูุฉ ูู ุงููุตู ุงูุชุนุณูู",
                "ูุธุงู ุงูุฃุฌูุฑ ูุงูุจุฏูุงุช",
                "ุงูุฅุฌุงุฒุงุช ูุงูุฑุนุงูุฉ",
                "ุงูุตุญุฉ ูุงูุณูุงูุฉ ุงูููููุฉ",
                "ุงูุชุฃูููุงุช ุงูุงุฌุชูุงุนูุฉ"
            ])
        
        if st.button("๐ ุฅุฌุฑุงุก ููุงุฑูุฉ ุชูุงุนููุฉ", key="interactive_comparison"):
            comparison_result = generate_interactive_comparison(country1, country2, comparison_field)
            
            st.success(f"## ๐ ููุงุฑูุฉ ุจูู {country1} ู {country2} ูู {comparison_field}")
    
    with researcher_tabs[8]:
        st.markdown("### ๐ ุงูููุตุฉ ุงูุฅุญุตุงุฆูุฉ ุงููุชูุฏูุฉ")
        
        # ููุญุฉ ุชุญูู ุงููุคุดุฑุงุช
        st.markdown("#### ๐ ููุญุฉ ุชุญูู ุงููุคุดุฑุงุช ุงูุชุดุฑูุนูุฉ")
        
        col1, col2, col3, col4 = st.columns(4)
        
        with col1:
            st.metric("ูุคุดุฑ ุงูุญูุงูุฉ ุงููุงููููุฉ", "78%", "5%")
            st.metric("ูุนุฏู ุงูุงูุชุซุงู ุงูุชุดุฑูุนู", "65%", "3%")
        
        with col2:
            st.metric("ูุคุดุฑ ุงูุนุฏุงูุฉ ูู ุงูุฃุฌูุฑ", "72%", "2%")
            st.metric("ูุนุฏู ุงูุงุณุชูุฑุงุฑ ุงููุธููู", "68%", "4%")
        
        with col3:
            st.metric("ูุคุดุฑ ุงูุตุญุฉ ูุงูุณูุงูุฉ", "81%", "6%")
            st.metric("ูุนุฏู ุงูุฑุถุง ุงููุธููู", "74%", "3%")
        
        with col4:
            st.metric("ูุคุดุฑ ุงูุชูููุฉ ุงูุชุดุฑูุนูุฉ", "76%", "4%")
            st.metric("ูุนุฏู ุงูุชุทุจูู ุงููุนูู", "62%", "2%")
    
    with researcher_tabs[9]:
        st.markdown("### ๐ฅ ุงูููุตุฉ ุงูุชุนุงูููุฉ ููุจุงุญุซูู")
        
        # ุงููุฌููุนุงุช ุงูุจุญุซูุฉ
        st.markdown("#### ๐จโ๐ฌ ุงููุฌููุนุงุช ุงูุจุญุซูุฉ ุงููุชุฎุตุตุฉ")
        
        research_groups = [
            {
                "name": "ูุฌููุนุฉ ุจุญูุซ ุชุดุฑูุนุงุช ุงูุฃุฌูุฑ",
                "focus": "ุฏุฑุงุณุฉ ุชุทูุฑ ุฃูุธูุฉ ุงูุฃุฌูุฑ ูุงูุถูุงู ุงูุงุฌุชูุงุนู",
                "members": "15 ุจุงุญุซ",
                "active_projects": "3 ูุดุงุฑูุน"
            }
        ]
        
        for group in research_groups:
            with st.expander(f"๐ฅ {group['name']}"):
                col1, col2 = st.columns(2)
                with col1:
                    st.write(f"**ุงูุชุฑููุฒ:** {group['focus']}")
                    st.write(f"**ุงูุฃุนุถุงุก:** {group['members']}")
                with col2:
                    st.write(f"**ุงููุดุงุฑูุน ุงููุดุทุฉ:** {group['active_projects']}")
                    if st.button("ุงูุถู ูููุฌููุนุฉ", key=f"join_{group['name']}"):
                        st.success("ุชู ุฅุฑุณุงู ุทูุจ ุงูุงูุถูุงู ูููุฌููุนุฉ")

# =====================================================
# ๐งฎ ุฏูุงู ูุณุงุนุฏุฉ ููุณุนุฉ
# =====================================================
def calculate_end_service(salary, years, contract_type):
    """ุญุณุงุจ ูุจุณุท ูููุงูุฃุฉ ููุงูุฉ ุงูุฎุฏูุฉ"""
    if contract_type == "ูุญุฏุฏ ุงููุฏุฉ":
        return salary * years * 0.5
    else:
        if years <= 5:
            return salary * years * 0.5
        else:
            return (salary * 5 * 0.5) + (salary * (years - 5) * 1.0)

def calculate_employer_end_service(salary, years, months, end_reason):
    """ุญุณุงุจ ููุงูุฃุฉ ููุงูุฉ ุงูุฎุฏูุฉ ูู ูุฌูุฉ ูุธุฑ ุตุงุญุจ ุงูุนูู"""
    total_months = years * 12 + months
    
    if end_reason in ["ุงุณุชูุงูุฉ", "ุงูุชูุงุก ุนูุฏ"]:
        if total_months <= 60:  # 5 ุณููุงุช
            return (salary * total_months) / 24
        else:
            first_5 = (salary * 60) / 24
            remaining = (salary * (total_months - 60)) / 12
            return first_5 + remaining
    elif end_reason == "ุฅููุงุก ุฎุฏูุฉ":
        if total_months <= 60:
            return (salary * total_months) / 12
        else:
            first_5 = (salary * 60) / 12
            remaining = (salary * (total_months - 60)) / 8
            return first_5 + remaining
    else:  # ูุตู ุชุฃุฏูุจู ุฃู ุฃุณุจุงุจ ุฃุฎุฑู
        return 0  # ุญุณุจ ุงูุธุฑูู

def calculate_income_tax(salary):
    """ุญุณุงุจ ุถุฑูุจุฉ ุงูุฏุฎู (ุชุจุณูุทู)"""
    if salary <= 200:
        return 0
    elif salary <= 500:
        return (salary - 200) * 0.05
    elif salary <= 1000:
        return (300 * 0.05) + (salary - 500) * 0.10
    else:
        return (300 * 0.05) + (500 * 0.10) + (salary - 1000) * 0.20

def generate_step_template(step):
    """ุชูููุฏ ูููุฐุฌ ููุฎุทูุฉ"""
    return f"""
    ูููุฐุฌ {step['title']}
    ุงูุชุงุฑูุฎ: {datetime.now().strftime('%Y-%m-%d')}
    
    ุงูุฎุทูุฉ: {step['step']}
    ุงููุตู: {step['details']}
    
    ุงููุณุชูุฏุงุช ุงููุทููุจุฉ:
    {chr(10).join(['- ' + doc for doc in step['documents']])}
    
    ุงููุตุงุฆุญ:
    {step['tips']}
    
    ---
    ุชู ุฅูุดุงุก ุงููููุฐุฌ ุจูุงุณุทุฉ ููุตุฉ ูุงููู ุงูุนูู ุงูุฐููุฉ
    """

def explain_law_article(article):
    """ุชูุณูุฑ ุงููุงุฏุฉ ุงููุงููููุฉ"""
    explanations = {
        "ุงููุงุฏุฉ 55": "ุชุญุฏุฏ ูุฐู ุงููุงุฏุฉ ุงูููุนุฏ ุงูููุงุฆู ูุตุฑู ุงูุฃุฌูุฑ ููู 7 ุฃูุงู ูู ููุงูุฉ ุงูุดูุฑุ ูุชุญูู ุงูุนุงูู ูู ุชุฃุฎูุฑ ุตุฑู ุฑุงุชุจู.",
        "ุงููุงุฏุฉ 74": "ุชูุธู ูุฐู ุงููุงุฏุฉ ุญุณุงุจ ููุงูุฃุฉ ููุงูุฉ ุงูุฎุฏูุฉ ูุชุถูู ุญุตูู ุงูุนุงูู ุนูู ูุณุชุญูุงุชู ุงููุงููุฉ ุนูุฏ ุงูุชูุงุก ุงูุฎุฏูุฉ.",
        "ุงููุงุฏุฉ 29": "ุชุญุธุฑ ุงููุตู ุงูุชุนุณูู ูุชุญูู ุงูุนุงูู ูู ุฅููุงุก ุฎุฏูุชู ุจุฏูู ูุจุฑุฑ ูุงูููู ูุดุฑูุน.",
        "ุงููุงุฏุฉ 35": "ุชุญุฏุฏ ุงูุงูุชุฒุงู ุจุงูุญุฏ ุงูุฃุฏูู ููุฃุฌูุฑ ูุถูุงู ุญุตูู ุงูุนุงูู ุนูู ุฃุฌุฑ ุนุงุฏู.",
        "ุงููุงุฏุฉ 46": "ุชูุธู ุณุงุนุงุช ุงูุนูู ูุถูุงู ุนุฏู ุงุณุชุบูุงู ุงูุนุงูู ูุชูููุฑ ููุช ูุงูู ููุฑุงุญุฉ."
    }
    return explanations.get(article['number'], "ุชูุณูุฑ ุงููุงุฏุฉ ููุฏ ุงูุชุทููุฑ")

def interpret_article_for_employer(article):
    """ุชูุณูุฑ ุงููุงุฏุฉ ูู ูุฌูุฉ ูุธุฑ ุตุงุญุจ ุงูุนูู"""
    interpretations = {
        "ุงููุงุฏุฉ 13": "ุชูุฌุจ ุนูู ุตุงุญุจ ุงูุนูู ูุชุงุจุฉ ุงูุนูุฏ ูุญูุงูุฉ ุญููู ุฌููุน ุงูุฃุทุฑุงู ูุชุฌูุจ ุงููุฒุงุนุงุช ุงููุณุชูุจููุฉ.",
        "ุงููุงุฏุฉ 55": "ุงูุงูุชุฒุงู ุจููุนุฏ ุตุฑู ุงูุฑูุงุชุจ ูุญุณู ุจูุฆุฉ ุงูุนูู ููุฒูุฏ ูู ุฅูุชุงุฌูุฉ ุงูููุธููู.",
        "ุงููุงุฏุฉ 79": "ุชูููุฑ ูุณุงุฆู ุงูุณูุงูุฉ ูุญูู ุตุงุญุจ ุงูุนูู ูู ุงููุณุคูููุฉ ุงููุงููููุฉ ูู ุญุงูุฉ ุงูุญูุงุฏุซ.",
        "ุงููุงุฏุฉ 29": "ุชุฌูุจ ุงููุตู ุงูุชุนุณูู ูุญูู ุงููุคุณุณุฉ ูู ุงูุฏุนุงูู ุงููุถุงุฆูุฉ ูุงูุชุนููุถุงุช ุงููุงููุฉ."
    }
    return interpretations.get(article['number'], "ุชูุณูุฑ ุงููุงุฏุฉ ูู ูุฌูุฉ ูุธุฑ ุตุงุญุจ ุงูุนูู ููุฏ ุงูุชุทููุฑ")

def generate_contract_preview(contract_type, non_compete, confidentiality, probation, notice):
    """ุชูููุฏ ูุนุงููุฉ ููุนูุฏ"""
    templates = {
        "๐ ุนูุฏ ุนูู ุฏุงุฆู": f"""
        ุนูุฏ ุนูู ุฏุงุฆู
        --------------------
        
        ูุฐุง ุงูุนูุฏ ูุจุฑู ุจูู ุตุงุญุจ ุงูุนูู ูุงูููุธู.
        
        ุงูุจููุฏ ุงูุฑุฆูุณูุฉ:
        - ููุน ุงูุนูุฏ: ุฏุงุฆู (ุบูุฑ ูุญุฏุฏ ุงููุฏุฉ)
        - ูุชุฑุฉ ุงูุชุฌุฑุจุฉ: {probation}
        - ูุชุฑุฉ ุงูุฅุฎุทุงุฑ: {notice}
        {"- ุดุฑุท ุนุฏู ุงูููุงูุณุฉ: ูุนู" if non_compete else ""}
        {"- ุดุฑุท ุงูุณุฑูุฉ: ูุนู" if confidentiality else ""}
        
        ุญููู ููุงุฌุจุงุช ุงูุทุฑููู ุญุณุจ ูุงููู ุงูุนูู ุงูุฃุฑุฏูู.
        """,
        
        "โฑ๏ธ ุนูุฏ ุนูู ูุคูุช": f"""
        ุนูุฏ ุนูู ูุคูุช
        --------------------
        
        ูุฐุง ุงูุนูุฏ ูุจุฑู ุจูู ุตุงุญุจ ุงูุนูู ูุงูููุธู.
        
        ุงูุจููุฏ ุงูุฑุฆูุณูุฉ:
        - ููุน ุงูุนูุฏ: ูุคูุช (ูุญุฏุฏ ุงููุฏุฉ)
        - ูุชุฑุฉ ุงูุชุฌุฑุจุฉ: {probation}
        - ูุชุฑุฉ ุงูุฅุฎุทุงุฑ: {notice}
        {"- ุดุฑุท ุนุฏู ุงูููุงูุณุฉ: ูุนู" if non_compete else ""}
        {"- ุดุฑุท ุงูุณุฑูุฉ: ูุนู" if confidentiality else ""}
        
        ููุชูู ุงูุนูุฏ ุชููุงุฆูุงู ุจุงูุชูุงุก ูุฏุชู.
        """
    }
    
    return templates.get(contract_type, "ูููุฐุฌ ุบูุฑ ูุชููุฑ")

def generate_custom_contract(name, position, salary, start_date, duration, hours, probation, notice, conditions, benefits):
    """ุชูููุฏ ุนูุฏ ูุฎุตุต"""
    return f"""
    ุนูุฏ ุนูู ูุฎุตุต
    ุชุงุฑูุฎ ุงูุฅูุดุงุก: {datetime.now().strftime('%Y-%m-%d')}
    
    ุจูู ุตุงุญุจ ุงูุนูู ูุงูููุธู:
    ุงูุงุณู: {name}
    ุงููุณูู ุงููุธููู: {position}
    
    ุดุฑูุท ุงูุนูุฏ:
    - ุงูุฑุงุชุจ ุงูุฃุณุงุณู: {salary} ุฏููุงุฑ
    - ุชุงุฑูุฎ ุงูุจุฏุก: {start_date}
    - ููุน ุงูุนูุฏ: {duration}
    - ุณุงุนุงุช ุงูุนูู ุงูุฃุณุจูุนูุฉ: {hours} ุณุงุนุฉ
    - ูุชุฑุฉ ุงูุชุฌุฑุจุฉ: {probation} ููู
    - ูุชุฑุฉ ุงูุฅุฎุทุงุฑ: {notice} ููู
    
    ุงูุดุฑูุท ุงูุฎุงุตุฉ:
    {conditions if conditions else "ูุง ุชูุฌุฏ ุดุฑูุท ุฎุงุตุฉ"}
    
    ุงููุฒุงูุง ุงูุฅุถุงููุฉ:
    {benefits if benefits else "ูุง ุชูุฌุฏ ูุฒุงูุง ุฅุถุงููุฉ"}
    
    ูุชุนูุฏ ุงูุทุฑูุงู ุจุงูุงูุชุฒุงู ุจุฃุญูุงู ูุงููู ุงูุนูู ุงูุฃุฑุฏูู.
    
    ุชูููุน ุตุงุญุจ ุงูุนูู: ___________________
    ุชูููุน ุงูููุธู: ___________________
    """

def analyze_legislative_period(period):
    """ุชุญููู ููุตู ููุชุฑุฉ ุชุดุฑูุนูุฉ"""
    analyses = {
        "1996-2000": "ูุชุฑุฉ ุงูุชุฃุณูุณ ูุงูุชุดุฑูุน ุงูุฃุณุงุณูุ ุชู ูุถุน ุงูุฃุณุณ ุงููุงููููุฉ ูุนูุงูุงุช ุงูุนูู ูุญูุงูุฉ ุญููู ุงูุนูุงู.",
        "2001-2005": "ูุชุฑุฉ ุงูุชุทููุฑุ ุฑูุฒุช ุนูู ุชุญุณูู ูุณุชููุงุช ุงููุนูุดุฉ ูุญูุงูุฉ ุงูุนุงูููู ูู ุงูุงุณุชุบูุงู.",
        "2006-2010": "ูุชุฑุฉ ุงูุชุฎุตุตุ ุชุนุฒูุฒ ุญูุงูุฉ ุงููุฆุงุช ุงูุฎุงุตุฉ ูุชุทููุฑ ุขููุงุช ุงูุฑูุงุจุฉ ูุงูุชูุชูุด.",
        "2011-2015": "ูุชุฑุฉ ุงูุฅุตูุงุญุ ูุนุงูุฌุฉ ุงุฎุชูุงูุงุช ุณูู ุงูุนูู ูุชุญููุฒ ุงูุชุดุบูู ูุงูุงุณุชุซูุงุฑ.",
        "2016-2020": "ูุชุฑุฉ ุงูุชูููุ ููุงูุจุฉ ุงููุชุบูุฑุงุช ุงูุงูุชุตุงุฏูุฉ ูุงูุชูููุฉ ูู ุนูุงูุงุช ุงูุนูู.",
        "2021-2024": "ูุชุฑุฉ ุงูุชุทููุฑ ุงูุดุงููุ ุฏูุฌ ุงููุณุชุฌุฏุงุช ุงูุฏูููุฉ ูุงููุนุงุตุฑุฉ ูู ุงูุชุดุฑูุน ุงูุนูุงูู."
    }
    return analyses.get(period, "ุชุญููู ุงููุชุฑุฉ ููุฏ ุงูุชุทููุฑ")

def analyze_legal_article(content):
    """ุชุญููู ูุตู ูุชูุฏู ูููุงุฏุฉ ุงููุงููููุฉ"""
    return f"""
    ุงูุชุญููู ุงููุตู ูููุงุฏุฉ:
    
    ุงูุฌูุงูุจ ุงูุฑุฆูุณูุฉ:
    - ุชุญุฏูุฏ ุงูุญููู ูุงููุงุฌุจุงุช ุจุดูู ูุงุถุญ
    - ุงูุถูุงูุงุช ุงููุงููููุฉ ุงูููุฑุฑุฉ ููุทุฑููู
    - ุงูุขููุงุช ุงูุชูููุฐูุฉ ูุงูุฅุฌุฑุงุฆูุฉ
    - ุงูุฌุฒุงุกุงุช ูุงููุฎุงููุงุช ุงููุญุชููุฉ
    
    ุงูุชูุตูุงุช ุงูุจุญุซูุฉ:
    - ุฏุฑุงุณุฉ ุงูุชุทุจูู ุงูุนููู ูููุงุฏุฉ ูู ุงูููุฏุงู
    - ููุงุฑูุฉ ูุน ุงูุชุดุฑูุนุงุช ุงูููุงุซูุฉ ูู ุงูุฏูู ุงูุนุฑุจูุฉ
    - ุชุญููู ุงูุฃุซุฑ ุนูู ุงูุนูุงูุงุช ุงูุนูููุฉ ูุงูุฅูุชุงุฌูุฉ
    - ุฑุตุฏ ุงูุชุญุฏูุงุช ูู ุงูุชุทุจูู ูุงูุชูููุฐ
    """

def generate_advanced_citation(doc_category, authors, title, year, publisher, place, url, accessed_date, system):
    """ุชูููุฏ ุงูุชุจุงุณ ูุชูุฏู"""
    if system == "APA":
        return f"{authors} ({year}). {title}. {publisher}. {place}."
    elif system == "OSCOLA":
        return f"{authors}, '{title}' ({year}) {publisher} {place}"
    else:
        return f"{authors} ({year}). {title}. {publisher}. {place}."

def generate_interactive_comparison(country1, country2, field):
    """ููุงุฑูุฉ ุชูุงุนููุฉ ุจูู ุฏููุชูู"""
    return f"ููุงุฑูุฉ ุชูุงุนููุฉ ุจูู {country1} ู {country2} ูู ูุฌุงู {field}"

# =====================================================
# ๐งฎ ุงูุฃูุณุงู ุงูุฃุฎุฑู (ุณูุชู ุชุถููููุง ุจุดูู ูุฎุชุตุฑ)
# =====================================================

def show_calculators_section():
    st.markdown("### ๐งฎ ุงูุญุงุณุจุงุช ุงููุงููููุฉ - ุงุญุณุจ ูุณุชุญูุงุชู ุจุฏูุฉ")
    st.info("""
    **ุงูุญุงุณุจุงุช ุงููุชุงุญุฉ:**
    - ๐ฐ ุญุงุณุจุฉ ููุงูุฃุฉ ููุงูุฉ ุงูุฎุฏูุฉ
    - โฐ ุญุงุณุจุฉ ุจุฏู ุงูุนูู ุงูุฅุถุงูู  
    - ๐ฅ ุญุงุณุจุฉ ุงูุฅุฌุงุฒุงุช ุงููุฑุถูุฉ
    - ๐ด ุญุงุณุจุฉ ุงูุฅุฌุงุฒุงุช ุงูุณูููุฉ
    - ๐ ุงูุญุงุณุจุฉ ุงูุดุงููุฉ
    """)
    
    # ูููู ุฅุถุงูุฉ ุงูุชูุงุตูู ุงููุงููุฉ ููุง
    st.warning("๐ง ูุฐุง ุงููุณู ููุฏ ุงูุชุทููุฑ - ุณูุชู ุฅุถุงูุฉ ุงูุญุงุณุจุงุช ุงูุชูุตูููุฉ ูุฑูุจุงู")

def show_complaint_simulator():
    st.markdown("### ๐ ูุญุงูู ุงูุดููู ุงูุฐูู - ุญู ูุดุงููู ุงููุงููููุฉ")
    st.info("""
    **ุงูููุฒุงุช ุงููุชุงุญุฉ:**
    - ๐ ุชุญููู ุงููุดููุฉ ุงููุงููููุฉ
    - ๐ ููุงุฐุฌ ุดููู ุฌุงูุฒุฉ
    - ๐บ๏ธ ุฎุฑูุทุฉ ุงูุญููู ุงููุงููููุฉ
    - ๐ ูุชุงุจุนุฉ ุงูุดููู ูุงูุงุณุชุดุงุฑุฉ
    """)
    
    # ูููู ุฅุถุงูุฉ ุงูุชูุงุตูู ุงููุงููุฉ ููุง
    st.warning("๐ง ูุฐุง ุงููุณู ููุฏ ุงูุชุทููุฑ - ุณูุชู ุฅุถุงูุฉ ุงููุญุงูู ุงูุชูุตููู ูุฑูุจุงู")

def show_authorities_section():
    st.markdown("### ๐๏ธ ุงูุฌูุงุช ุงููุฎุชุตุฉ - ุฏููู ุดุงูู")
    st.info("""
    **ุงูุฎุฏูุงุช ุงููุชุงุญุฉ:**
    - ๐ ุฎุฑูุทุฉ ุงูุฌูุงุช ุงูุฑุณููุฉ
    - ๐ ุฏููู ุงูุงุชุตุงู ุงูุดุงูู
    - ๐ ุฃููุงุช ุงูุนูู ูุงูุฎุฏูุงุช
    - ๐ ุงูุฎุฏูุงุช ุงูููุฏูุฉ
    """)
    
    # ูููู ุฅุถุงูุฉ ุงูุชูุงุตูู ุงููุงููุฉ ููุง
    st.warning("๐ง ูุฐุง ุงููุณู ููุฏ ุงูุชุทููุฑ - ุณูุชู ุฅุถุงูุฉ ุงูุฏููู ุงูุชูุตููู ูุฑูุจุงู")

def show_legal_search():
    st.markdown("### ๐ ุงูุจุญุซ ุงูุฐูู ูู ุงูููุงููู")
    
    if not ai_assistant:
        st.warning("โ๏ธ ูุง ูููู ุงุณุชุฎุฏุงู ุงูุจุญุซ ุงูุฐูู ูู ุงูููุช ุงูุญุงูู")
        return
    
    search_query = st.text_input("ุงูุชุจ ุงุณุชูุณุงุฑู ุงููุงูููู:")
    
    if st.button("๐ ุงุจุญุซ ูู ุงูููุงููู") and search_query:
        with st.spinner("ุฌุงุฑู ุงูุจุญุซ ูู ุงูุชุดุฑูุนุงุช..."):
            try:
                results = ai_assistant.advanced_search(search_query, top_n=3)
                if results:
                    st.success(f"๐ฏ ุชู ุงูุนุซูุฑ ุนูู {len(results)} ูุชูุฌุฉ")
                    for i, result in enumerate(results, 1):
                        with st.expander(f"๐ ุงููุชูุฌุฉ {i} (ุฏูุฉ {result['score']}%)", expanded=i==1):
                            st.write(f"**ุงููุต ุงููุงูููู:** {result['text']}")
                            if result['example']:
                                st.write(f"**ูุซุงู ุชุทุจููู:** {result['example']}")
                            st.write(f"**ุงููุฑุฌุน:** {result['reference']}")
                else:
                    st.warning("โ๏ธ ูู ูุชู ุงูุนุซูุฑ ุนูู ูุชุงุฆุฌ")
            except Exception as e:
                st.error(f"โ ุญุฏุซ ุฎุทุฃ ุฃุซูุงุก ุงูุจุญุซ: {e}")

def show_settings_page():
    st.markdown("### โ๏ธ ุงูุฅุนุฏุงุฏุงุช ูุงูุชููุฆุฉ")
    
    settings_tabs = st.tabs(["๐๏ธ ุฅุนุฏุงุฏุงุช ุงูุชุทุจูู", "๐ค ุงูููู ุงูุดุฎุตู", "๐ ุงูุฅุดุนุงุฑุงุช", "๐ก๏ธ ุงูุฎุตูุตูุฉ"])
    
    with settings_tabs[0]:
        st.markdown("### ๐๏ธ ุฅุนุฏุงุฏุงุช ุงูุชุทุจูู ุงูุนุงูุฉ")
        
        col1, col2 = st.columns(2)
        
        with col1:
            app_language = st.selectbox("ูุบุฉ ุงูุชุทุจูู", ["ุงูุนุฑุจูุฉ", "English"])
            theme_mode = st.radio("ุงููุถุน ุงููููู", ["ูุงุชุญ", "ุฏุงูู", "ุชููุงุฆู"])
        
        with col2:
            ai_enabled = st.toggle("ุชูุนูู ุงูุจุญุซ ุจุงูุฐูุงุก ุงูุงุตุทูุงุนู", value=True)
            auto_save = st.checkbox("ุงูุญูุธ ุงูุชููุงุฆู ููุจูุงูุงุช", value=True)
        
        if st.button("๐พ ุญูุธ ุงูุฅุนุฏุงุฏุงุช"):
            st.success("ุชู ุญูุธ ุงูุฅุนุฏุงุฏุงุช ุจูุฌุงุญ!")
    
    with settings_tabs[1]:
        st.markdown("### ๐ค ุงูููู ุงูุดุฎุตู")
        
        col1, col2 = st.columns(2)
        
        with col1:
            st.text_input("ุงูุงุณู ุงููุงูู", value="ูุญูุฏ ุฃุญูุฏ")
            st.text_input("ุงูุจุฑูุฏ ุงูุฅููุชุฑููู", value="mohammed@example.com")
        
        with col2:
            st.text_input("ุฑูู ุงููุงุชู", value="+962 79 000 0000")
            st.selectbox("ุงููุญุงูุธุฉ", ["ุนูุงู", "ุฅุฑุจุฏ", "ุงูุฒุฑูุงุก"])
        
        if st.button("๐ ุชุญุฏูุซ ุงูููู ุงูุดุฎุตู"):
            st.success("ุชู ุชุญุฏูุซ ุงูููู ุงูุดุฎุตู ุจูุฌุงุญ!")
    
    with settings_tabs[2]:
        st.markdown("### ๐ ุฅุนุฏุงุฏุงุช ุงูุฅุดุนุงุฑุงุช")
        
        st.checkbox("ุงูุฅุดุนุงุฑุงุช ุนุจุฑ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู", value=True)
        st.checkbox("ุงูุฅุดุนุงุฑุงุช ุงูููุฑูุฉ", value=True)
        st.checkbox("ุชุญุฏูุซุงุช ุงูููุงููู", value=True)
        
        if st.button("๐พ ุญูุธ ุฅุนุฏุงุฏุงุช ุงูุฅุดุนุงุฑุงุช"):
            st.success("ุชู ุญูุธ ุฅุนุฏุงุฏุงุช ุงูุฅุดุนุงุฑุงุช!")
    
    with settings_tabs[3]:
        st.markdown("### ๐ก๏ธ ุงูุฎุตูุตูุฉ ูุงูุฃูุงู")
        
        st.radio("ุฌูุน ุงูุจูุงูุงุช", ["ุงูุญุฏ ุงูุฃุฏูู", "ุชุญุณูู ุงูุฎุฏูุฉ", "ูุงูู"])
        st.checkbox("ูุดุงุฑูุฉ ุงูุจูุงูุงุช ูุฃุบุฑุงุถ ุฅุญุตุงุฆูุฉ", value=False)
        
        if st.button("๐ ุชุบููุฑ ูููุฉ ุงููุฑูุฑ"):
            st.info("ุณูุชู ุฅุฑุณุงู ุฑุงุจุท ุชุบููุฑ ูููุฉ ุงููุฑูุฑ ุฅูู ุจุฑูุฏู ุงูุฅููุชุฑููู")

# =====================================================
# ๐งญ ุงูุชูููุฐ ุงูุฑุฆูุณู ููุชุทุจูู
# =====================================================
def main():
    # ุงูุดุฑูุท ุงูุฌุงูุจู
    with st.sidebar:
        st.markdown(
            f"<div style='text-align: center; padding: 1rem;'>"
            f"<h2>โ๏ธ {config.get('APP_INFO', {}).get('APP_NAME', 'ููุตุฉ ูุงููู ุงูุนูู')}</h2>"
            f"<p style='color: #666; font-size: 0.9rem;'>ุงูุฅุตุฏุงุฑ {config.get('APP_INFO', {}).get('VERSION', 'v25.1')}</p>"
            f"</div>", unsafe_allow_html=True
        )
        st.markdown("---")
        
        # ุงููุงุฆูุฉ ุงูุฑุฆูุณูุฉ ุงููุญุฏุซุฉ
        page_options = {
            "๐ ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ": show_home_page,
            "๐ท ุงูุนูุงู": show_workers_section,
            "๐ ุฃุตุญุงุจ ุงูุนูู": show_employers_section,
            "๐ฌ ุงูุจุงุญุซูู": show_researchers_section,
            "๐งฎ ุงูุญุงุณุจุงุช ุงููุงููููุฉ": show_calculators_section,
            "๐ ูุญุงูู ุงูุดููู": show_complaint_simulator,
            "๐๏ธ ุงูุฌูุงุช ุงููุฎุชุตุฉ": show_authorities_section,
            "๐ ุงูุจุญุซ ูู ุงูููุงููู": show_legal_search,
            "โ๏ธ ุงูุฅุนุฏุงุฏุงุช": show_settings_page
        }
        
        selected_page = st.selectbox("ุงุฎุชุฑ ุงููุณู", list(page_options.keys()), key="main_nav")
        
        st.markdown("---")
        st.markdown("### ๐ ุงูุฏุนู ุงูููู")
        st.write("๐ง support@alyworklaw.com")
        st.write("๐ 06-5802666")
        st.write("๐ ุงูุฃุญุฏ - ุงูุฎููุณ: 8:00 ุต - 3:00 ู")
        
        st.markdown("---")
        st.markdown("### ๐ ุงูุชูุจููุงุช ุงููููุฉ")
        st.info("""
        - ๐ข ุชุญุฏูุซุงุช ุงูููุงููู ุงูุฌุฏูุฏุฉ
        - ๐ ูุฑุด ุนูู ูุฌุงููุฉ
        - โ๏ธ ุงุณุชุดุงุฑุงุช ูุงููููุฉ
        - ๐ ููุงูุดุงุช ุจุญุซูุฉ
        - ๐ ุฏุนู ุทูุงุฑุฆ
        """)
    
    # ุนุฑุถ ุงูุตูุญุฉ ุงููุญุฏุฏุฉ
    if selected_page in page_options:
        try:
            page_options[selected_page]()
        except Exception as e:
            st.error(f"โ ุญุฏุซ ุฎุทุฃ ุฃุซูุงุก ุนุฑุถ ุงูุตูุญุฉ: {e}")
            st.info("ูุฑุฌู ุชุญุฏูุซ ุงูุตูุญุฉ ุฃู ุงููุญุงููุฉ ูุงุญูุงู")
    
    # ุงูุชุฐููู
    st.markdown("---")
    footer_text = config.get("FOOTER", {}).get("TEXT", "ยฉ 2025 ููุตุฉ ูุงููู ุงูุนูู ุงูุฐููุฉ โ ุฌููุน ุงูุญููู ูุญููุธุฉ.")
    st.markdown(f"<center><small>{footer_text}</small></center>", unsafe_allow_html=True)

if __name__ == "__main__":
    main()
    